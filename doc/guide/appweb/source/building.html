<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  
  


	


	


	<title>Embedthis Appweb Building from Source Code</title>

<!-- BeginDsi "dsi/meta.html" -->
	<meta name="keywords" content="embedded web server, web server software, 
		embedded HTTP, application web server, embedded server,
		small web server, HTTP server, library web server, library HTTP,
		HTTP library" />
	<meta name="description" content="Embedthis Sofware provides 
		open source embedded web servers for devices and applications." />
	<meta name="robots" content="index,follow" />
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<!-- EndDsi -->


<!-- BeginDsi "dsi/js.html" -->
	<script language="JavaScript" type="text/javascript">
		document._ROOT_="../../../";
	</script>
<!-- EndDsi -->


<!-- BeginDsi "dsi/style.html" -->
	<link rel="stylesheet" type="text/css" href="../../../css/doc.css">
<!-- EndDsi -->




<style type="text/css">
/*<![CDATA[*/
<!--
.style3 {color: #FFFFFF; font-weight: bold; }
-->
/*]]>*/
</style>
<style type="text/css">
/*<![CDATA[*/
 td.c18 {vertical-align: top; text-align: center;}
 td.c17 {vertical-align: top; background-color: rgb(192, 192, 192); text-align: center;}
 span.c16 {font-weight: bold; color: rgb(255, 255, 255);}
 span.c15 {color: rgb(255, 255, 255);}
 img.c14 {border: 0px solid ; height: 16px; width: 16px;}
 table.c13 {width: 100%;}
 td.c12 {vertical-align: top; font-weight: bold;}
 td.c11 {font-weight: bold;}
 td.c10 {vertical-align: top; background-color: rgb(192, 192, 192); color: rgb(255, 255, 255); font-weight: bold;}
 span.c9 {font-style: italic;}
 td.c8 {vertical-align: top; background-color: rgb(192, 192, 192); color: rgb(255, 255, 255);}
 td.c7 {vertical-align: top; font-weight: bold; background-color: rgb(192, 192, 192); color: rgb(255, 255, 255);}
 table.c6 {text-align: left; width: 100%;}
 td.c5 {vertical-align: top;}
 td.c4 {vertical-align: top; color: rgb(255, 255, 255); background-color: rgb(192, 192, 192); font-weight: bold;}
 span.c3 {font-weight: bold;}
 h1.c2 {font-weight: bold}
 span.c1 {font-weight: bold; color: rgb(248, 248, 248);}
/*]]>*/
</style>
<style type="text/css">
/*<![CDATA[*/
 td.c5 {font-weight: normal;}
 table.c4 {width: 100%;}
 h4.c3 {font-weight: normal;}
 span.c2 {font-weight: bold;}
 span.c1 {font-weight: normal;}
/*]]>*/
</style></head>
<body topmargin="0" leftmargin="0" marginheight="0" marginwidth="0">
  

<!-- BeginDsi "dsi/navTop.html" -->
	<div class="background">
		<table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td>
					<a name="top"></a>
					<img src="../../../images/backLeft.png" width="400" 
						height="93" border="0" ismap usemap="#home" /><br />
					<map name="home">
						<area coords="0,0,93,93" 
						href="http://www.mbedthis.com/index.html" />
					</map>
				</td>
				<td width="100%">
					<img src="../../../images/backMiddle.png" width="100%" 
						height="93" border="0" /><br />
				</td>
				<td>
					<img src="../../../images/backRight.png" width="354" 
						height="93" border="0" /><br />
				</td>
			</tr>
		</table>
	</div>

	<div class="navTop"> 
		<table cellpadding="0" cellspacing="0" border="0" align="top">
			<tr>
				<td valign="bottom"> 
					<a href="http://www.mbedthis.com/" class="navTop"
					>Embedthis Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../product/index.html" class="navTop"
					>Documentation Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../guide/appweb/users/admin/overview.html" class="navTop"
					>Administration</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../api/gen/appweb/overview.html" class="navTop"
					>Programmers Reference</a>
				</td>
				<td valign="bottom"> 
<!--
					<form class="smallText" action="../../../search.php" 
						method="post" name="searchForm" id="searchForm">
					</form>
					&nbsp; 
					<input class="smallText" type="text" name="search" 
						align="right" id="searchInput" size="15" maxlength="50"
						value="Sorry, No Searching" />
-->
				</td>
			</tr>
		</table>
	</div>

<!-- EndDsi -->

  <div class="navHistory">
    

<!-- BeginDsi "dsi/navHistory.html" -->
	<a href="../../../product/index.html">Documentation Home</a> &gt; 
<!-- EndDsi -->

     Source Code &gt; <span class="c1">Building Appweb From Source
    Code</span>
  </div>

  <table class="contentTable" border="0" height="100%">
    <tbody>
      <tr>
        <td class="content">
          <div class="guideHeader">
            <h1 class="c2">

<!-- BeginDsi "dsi/backArrow.html" -->
			<a href="../../../product/index.html"><img width="19" height="14" 
				class="nav" src="../../../images/leftArrow.gif" /></a>
<!-- EndDsi -->

             Building Appweb From Source Code<br></h1>
          </div>

          <div class="guideSection">
            <p>This document describes the configuration and build procedure
            to rebuild Appweb using the Appweb source code. The appweb source
            distribution contains all the necessary source files, headers,
            tools and test framework to reconfigure and build the Embedthis
            Appweb Server. See <a href="#keyFiles">Key Files</a> below for a
            list of the important directories and files and their
            purposes.</p>

            <p>For the product release notes and a detailed description of
            the installation procedure, please consult the <a href="../../../product/releaseNotes.html">Release Notes</a> supplied
            with this release. The INSTALL.TXT file may also provide
            additional material - though is substantially similar to this
            document.</p>

            <p>Additional instructions apply to building the source code from
            the Subversion source code repository. If you are wanting to port
            Appweb to a new platform, please read <a href="porting.html">Porting Appweb</a>.</p>

            <h2><a name="supportedPlatforms" id="supportedPlatforms"></a>
            <a href="#top"><img class="nav" src="../../../images/upArrow.gif" height="16" width="16"></a> Supported Platforms<br></h2>

            <p>A variety of build environments are supported on various
            platforms:</p>

            <h3>Linux</h3>

            <ul>
              <li>Linux 2.4, 2.6 with GNU C/C++, GNU make. (See <a href="#cross">cross-compilation</a> below if using uClinux)</li>
            </ul>

            <h3>MAC OS X</h3>

            <ul>
              <li>Mac OS X 10.1 or later with GNU C/C++, GNU make.</li>
            </ul>

            <h3>Windows</h3>

            <ul>
              <li>Microsoft Windows XP or Windows Vista with Visual Studio
              6.0 (service pack 5) or Microsoft Visual Studio 2005.</li>
            </ul>

            <h3>VxWorks</h3>

            <ul>
              <li>Wind River Tornado II and VxWorks 5.4 (See <a href="#cross">cross-compilation</a> below) or Wind River Workbench
              6.3.</li>
            </ul>

            <h2><a name="overview" id="supportedPlatforms2"></a> <a href="#top"><img src="../../../images/upArrow.gif" alt="summary" class="nav" height="16" width="16"></a> Overview<br></h2>

            <p>The build procedure is substantially the same for all
            supported platforms. A <em>configure</em> program is first used
            to select the target host, required features, options and
            modules. Then the <em>make</em> program is used to build
            Appweb.</p>

            <p>On Windows and when doing cross-development on a Windows
            system, you need the Cygwin UNIX emulation development tools.
            These provide UNIX like commands for Windows and provides a
            consistent development environment on Windows and Unix/Linux.
            Building on windows is performed using the Microsoft C compiler
            and the GNU make and shell utilities. Microsoft Visual Studio may
            be used for debugging, but building is performed using
            <em>make.</em></p>

            <p>The Appweb source code has been ported to BSD, Linux, MAC OSX,
            Solaris, Windows and VxWorks. It has been thoroughly tested using
            the following O/S distributions: Ubuntu Linux, Fedora Linux, MAC
            OS X 10.1, Red Hat Linux 9.0 using the 2.4 Kernel, Microsoft
            Windows XP, Windows Vista and VxWorks 5.4 and 6.3.&nbsp;</p>

            <p>Many CPU architectures are supporting including single and
            multi-cpu systems. You will find that Embedthis Appweb is quite
            portable and you are welcome to try your hand at porting it to a
            new platform. See the <a href="porting.html">Porting Guide</a>
            for more details.<a name="gettingStarted" id="gettingStarted"></a></p>

            <h2><a name="setup" id="setup"></a><a href="#top"><img class="nav" src="../../../images/upArrow.gif" height="16" width="16"></a> Setup the Environment for Building</h2>

            <h3>Linux, Unix and MAC OS</h3>

            <p>If you wish to debug programs locally in your build tree, you
            will need to modify your environment to define the
            LD_LIBRARY_PATH variable so that Appweb programs can locate the
            dynamically loadable modules and libraries. If you only wish to
            build and install without running in the build tree, you do
            <span class="c3">not</span> need to modify your environment. If
            you are using MAC OS, then you need to use the corresponding
            variable: DYLD_LIBRARY_PATH.</p>

            <p>Set the <b>LD_LIBRARY_PATH</b> environment variable to include
            the <span class="c3">lib</span> and <strong>lib/modules</strong>
            directories in the source directory. This overrides the default
            library search path compiled into the various Appweb executables
            which is normally set to the build prefix (/etc/appweb).</p>

            <p>LD_LIBRARY_PATH has a format similar to PATH and can be set
            via the command:</p>
            <pre>export LD_LIBRARY_PATH=/usr/src/appweb-VERSION/lib:/usr/src/appweb-VERSION/lib/modules:$LD_LIBRARY_PATH<br>
</pre>

            <p>Where /usr/src/appweb-VERSION is the path to your installed
            appweb source distribution. If you have installed Appweb in a
            non-default location, replace the path with the current
            installation directory for the source. You may wish to include
            these commands in your .profile or .bashrc login script to the
            environment is correctly setup each time you login.</p>

            <h3>Windows</h3>

            <p>If you are building for Windows or using Windows for cross
            development, you need to define certain Microsoft compiler
            environment variables as described in the Microsoft installation
            procedure. These variables are the PATH, INCLUDE and LIB
            variables so that they will contain references to the where the
            Microsoft compiler and libraries are installed on your system.
            Consult your Microsoft Visual Studio documentation for
            details.</p>

            <p>You will also need to download Cygwin tools from <a href="http://www.cygwin.com">www.cygwin.com</a>. These tools provide a
            Unix like environment for building Appweb. When building, you
            need to invoke <em>make</em> from within a Cygwin command window
            called a <em>bash window</em>. The bash command is the command
            shell, similar to the Windows dos command window.</p>

            <h2><a href="#top"><img class="nav" src="../../../images/upArrow.gif" height="16" width="16"></a>
            Configuring the Build<a name="configuring" id="configuring"></a></h2>

            <p>Before building, you must first configure what settings you
            require for Appweb. To do this, you run the
            <strong>configure</strong> command. If you are familiar with the
            open source autoconf configure program, you will feel at
            home.</p>

            <p>The configure program will use the default configuration
            supplied in the build/standard.defaults file when first
            configuring your build. You can edit the standard.defaults file
            to modify the settings to suit your requirements. The configure
            script will create and modify the build control files
            <b>buildConfig.make</b>, <b>buildConfig.sh</b> and
            <b>buildConfig.h</b>. These configuration files are included by
            make files, shell scripts and also by C/C++ source files to
            control the build process.</p>

            <h3>Running Configure<a name="runningConfigure" id="runningConfigure"></a></h3>

            <p>The "configure" program is the master Appweb configuration
            tool. You may run configure with no options to accept the
            "factory" defaults, which is a good starting point.<br></p>

            <p>To run the configure program, type:<br></p>
            <pre>./configure<br>
</pre>

            <p>or supply options, for example:<br></p>
            <pre>./configure --type=RELEASE --enable-shared \<br>  --disable-access-log --without-egi --with-esp=loadable<br>
</pre>

            <h3><span class="c1"></span></h3><h3><a name="cross" id="cross"></a>Cross Compilation</h3>

            <p>To configure for cross compilation must specify the --host and
            --build switches. The host system is the target system that will
            eventually run Appweb. The build system is the system being used
            to compile and build Appweb. These take system architecture
            specifications are in the form: CPU-VENDOR-OS. For example:</p>

            <blockquote>
              <p>i386-pc-linux</p>
            </blockquote>

            <p>or</p>

            <blockquote>
              <p>powerpc-wrs-vxworks</p>
            </blockquote>

            <p>Use x86_64 for the CPU component to select Intel/AMD 64 bit.
            If you don't specify the build system using the --build switch,
            configure will do its best to guess your current system
            configuration. Here is a typical cross-compilation example that
            builds on a windows PC and targets VxWorks on a Power PC cpu.</p>
            <pre>./configure --host powerpc-wrs-vxworks --build pentium-pc-windows<br></pre>

            <h3>Discovery Methods for Tools and SDKs</h3>

            <p>To build Appweb, many tools are required. These include a
            compiler, linker and other utilies such as: nm and strip. Some
            operating systems require entire SDKs such as VxWorks. Once
            located, configure define constants in buildConfig.* for all
            tools and SDKs.</p>

            <p>The configure program has two differnet methods to locate the
            required tools and SDKs to build apweb. </p>

            <ol>
              <li>Auto tool discovery</li>

              <li>Explicit tool paths</li>
            </ol>

            <p>The first method is to let Appweb discover the tools by
            searching the system according to defined search paths. This is
            the simplest and quickest way to configure Appweb. </p>

            <p>The second method is usually only used when cross compiling.
            In this method, you supply explicit paths for required tools via
            environment variables. </p>

            <h4>Auto Tool Discovery</h4>The configure program can
            auto-discover most required tools and SDKs. Appweb comes
            pre-configured with the typical install locations of all the
            required tools and SDKs. To use auto-discovery, just type
            configure:<br>
            <pre>./configure<br></pre>

            <p>And let configure do the rest. In the rare case where you have
            tools installed in atypical locations, you can modify the
            build/tools.config file to add custom directories to the
            pre-configured search paths so configure can find the a specific
            tools or SDK.</p>

            <p><span class="c2">Required and Optional Tools</span></p>

            <p>The set of required tools is described by the
            BLD_REQUIRED_TOOLS, BLD_OPTIONAL_TOOLS, BLD_REQUIRED_SDKS and
            BLD_OPTIONAL_SDKS variables in the build/product.config file. The
            tool names are symbolic names. For example:</p>
            <pre>BLD_REQUIRED_TOOLS="AR CC LD DOXYGEN"<br>
</pre>

            <p>These upper case tool names are translated into O/S specific
            tool names by the build/os/config.* files. For example,
            BLD_HOST_CC will be defined as "cc" in
            build/os/config.MACOSX. Once translated, configure will search
            for this tool in the tool search paths.</p>

            <p><span class="c2">Directory Search Order</span></p>Configure
            will search for for tools in a preset order. It will search the
            SEARCH_PATH environment variable first, then the TOOL_SEARCH_PATH
			(or BUILD_TOOL_SEARCH_PATH if making local build tools) defined 
			in build/tools.config and finally the PATH environment
            variable. Normally the SEARCH_PATH variable is not defined. Its
            purpose is to allow user overrides of the search paths without
            having to edit build/tools.config by supplying search paths in
            the enviroment. For example:
            <pre>SEARCH_PATH=/usr/src/myTools ./configure<br></pre>

            <p>This will search for tools first under the /usr/src/myTools
            directory. If a given tool is not found, the relevant TOOL_SEARCH_PATH and
            the directories contained in PATH will be searched in turn.</p>

            <p>The configure program can auto-discover most required tools
            and SDKs. The build/tools.config file contains pre-configured
            search paths so configure can find tools and SDKs required to
            build Appweb. You may edit build/tools.config and add custom
            directories if you require.</p>

            <p>The build/tools.config file can be customized to define new
            directories or modify directories as required for your system.
            The default search paths for tools is defined as:</p>
            <pre>TOOL_SEARCH_PATH="<br>    '\$BLD_HOST_VXWORKS/gnu/*/\$BLD_BUILD_SYSTEM_VX/bin'<br>    '\$BLD_HOST_VXWORKS/gnu/*/\$BLD_BUILD_SYSTEM_VX/\$BLD_HOST_SYSTEM/bin'<br>    '\$BLD_HOST_VXWORKS/\$BLD_HOST_DIST-\$BLD_HOST_DIST_VER/host/\$BLD_BUILD_SYSTEM_VX/bin'<br>    '\$BLD_HOST_VXWORKS/\$BLD_HOST_DIST-\$BLD_HOST_DIST_VER/host/resource/hutils/tcl'<br>    '\$BLD_HOST_VXWORKS/workbench*/foundation/*/\$BLD_BUILD_SYSTEM_VX/bin'<br>    '\$BLD_HOST_VXWORKS/host/*/bin'<br>    '\$BLD_HOST_VXWORKS/host/*/\$BLD_HOST_SYSTEM/bin'<br>    '/cygdrive/*/Program Files/Microsoft Visual Studio*/*/bin'<br>    '/cygdrive/*/Program Files/java/jdk*/bin'<br>    '/cygdrive/*/Program Files/Inno*'<br>    '/cygdrive/*/j2sdk*/bin'<br>    '/Program Files/Microsoft Visual Studio*/*/bin'<br>    '/Program Files/java/jdk*/bin'<br>    '/Program Files/Inno*'<br>    '/j2sdk*/bin'<br>    '/usr/java/latest/bin'<br>    '/usr/lib/jdk*/bin'<br>    '/usr/local/jdk*/bin'<br>    '/bin'<br>    '/usr/bin'<br>    '/usr/local/bin'<br>    '.'<br>    "<br>
</pre>

            <p>Each line describes a set of directories to search for tools.
            Lines must be within single quotes and may use "*' as a wildcard
            to match multiple directories. </p>

            <p><span class="c2">Explicit Tool Paths</span></p>

            <p>When cross-compiling, it is often convenient to supply
            explicit paths for tools via environment variables. Using this
            configuration method, you tell configure about the names of your
            compiler, library archiver and other utilities via explicit
            environment variables. The configure program listens to the
            environment variable settings of the AR, CC, LD, MUNCH, NM,
            RANLIB, STRIP, TCLSH, CFLAGS, IFLAGS and LDFLAGS environment
            variables and will pass their values into the build system. Not
            all these variables are required on all operating systems. MUNCH
            and TCLSH are only required when targetting VxWorks. By default,
            these variables are used for the compiler and linker when
            building for the host system, whereas variants with a "BUILD" prefix apply to the local build system. For excample:</p>
            <pre>CC=/usr/local/bin/cc386       # This will be used for the host system<br></pre>
            <pre>BUILD_CC=/usr/bin/cc          # This will be used for the local build system<br></pre>

            <h3><br>
            <a name="environment" id="environment"></a>Environment
            Variables</h3>

            <p>When cross compiling, it is usually necessary to define
            various cross compiler tool chain settings via environment
            variables. These environment variables are typically passed into
            configure to alter its behavior. For example:</p>
            <pre>CC=/mypath/mycc ./configure<br>
</pre>

            <p>The following table lists the possible environment
            variables.<br></p>

            <table class="c6 contentTable" border="1" cellpadding="2" cellspacing="2">
              <tbody>
                <tr>
                  <td class="c7">Variable<br></td>

                  <td class="c7">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">AR<br></td>

                  <td class="c5">Path to the archiver program to use to
                  archive libraries for the target system.<br></td>
                </tr>

                <tr><td>BUILD_CC</td><td>Path to the&nbsp;C/C++ compiler to use for building tools required for building on the local development system.</td></tr><tr><td>BUILD_LD</td><td>Path to the&nbsp;C/C++ compiler to use for building tools required for building on the local development system.</td></tr><tr>
                  <td class="c5">CC<br></td>

                  <td class="c5">Path to the C/C++ compiler to use to compile
                  for the target system.<br></td>
                </tr>

                

                <tr>
                  <td class="c5">LD<br></td>

                  <td class="c5">Path to the linker program to use to link
                  objects for the target system.<br></td>
                </tr>

                <tr>
                  <td>MT</td>

                  <td>Path to the windows manifest program.</td>
                </tr>

                <tr>
                  <td>NM</td>

                  <td>Path to the nm program to extract symbols from
                  objects.</td>
                </tr>

                <tr>
                  <td class="c5">RANLIB<br></td>

                  <td class="c5">Path to the ranlib program to use if
                  required.<br></td>
                </tr>

                <tr>
                  <td class="c5">STRIP</td>

                  <td class="c5">Path to command to strip symbols from
                  libraries.</td>
                </tr>

                <tr>
                  <td class="c5">CFLAGS<br></td>

                  <td class="c5">Compiler flags<br></td>
                </tr>

                <tr>
                  <td class="c5">IFLAGS<br></td>

                  <td class="c5">Preprocessor and include flags. E.g. -Idir
                  to specify a non-standard directory for include
                  headers.<br></td>
                </tr>

                <tr>
                  <td class="c5">LDFLAGS<br></td>

                  <td class="c5">Linker flags. E.g. -Ldir to specify a
                  non-standard directory for libraries.<br></td>
                </tr>

                <tr>
                  <td class="c5">LD_LIBRARY_PATH<br></td>

                  <td class="c5">Path on Unix to find shared libraries to
                  override the compiled in search path. Normally set to the
                  Appweb <span class="c9">bin</span> directory when running
                  appweb locally in the source tree. This variable can be
                  used anytime, not just to control the configure program.
                  Use DYLD_LIBRARY_PATH on MAC OS X.<br></td>
                </tr>
              </tbody>
            </table>

            <h3>Example Use</h3>
            <pre>CC=/tornado/host/x86-win32/bin/cc386 \<br>
LD=/tornado/host/x868-win32/bin/ld3868 configure
</pre>

            <h2><a name="commandLine" id="commandLine"></a><a href="building.html#top"><img class="nav" src="../../../images/upArrow.gif" height="16" width="16"></a>Configure Command Line Options</h2>The following
            command lines options are supported by the configure program. The
            tables below describe the configuration program options and the
            variables defined in the buildConfig.make configuration files.
            The defaults below are the defaults in the supplied binary
            distribution.<br>

            <h4><span class="c3"><span class="c3">Installation Directory
            Options</span></span></h4>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c4">Option<br></td>

                  <td class="c4">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">--prefix<br></td>

                  <td class="c5">Set the installation directory path for the
                  primary product distribution files.<br></td>
                </tr>

                <tr>
                  <td class="c5">--docDir=PATH<br></td>

                  <td class="c5">Set the installation directory path for the
                  product manual documentation.<br></td>
                </tr>

                <tr>
                  <td class="c5">--incDir=PATH<br></td>

                  <td class="c5">Set the installation directory path for the
                  include header files.<br></td>
                </tr>

                <tr>
                  <td class="c5">--libDir=PATH<br></td>

                  <td class="c5">Set the installation directory path for the
                  libraries.<br></td>
                </tr>

                <tr>
                  <td class="c5">--sbinDir=PATH<br></td>

                  <td class="c5">Set the installation directory path for
                  system binaries.<br></td>
                </tr>

                <tr>
                  <td class="c5">--srcDir=PATH<br></td>

                  <td class="c5">Set the installation directory path for
                  source code.<br></td>
                </tr>

                <tr>
                  <td class="c5">--webDir=PATH<br></td>

                  <td class="c5">Set the installation directory path for web
                  documents (DocumentRoot).<br></td>
                </tr>
              </tbody>
            </table>

            <p><span class="c3"><span class="c3"><br></span></span>
            <span class="c3">System Build Types<br></span></p>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c4" width="30%">Option<br></td>

                  <td class="c4" width="70%">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">--build=cpu-vendor-os<br></td>

                  <td class="c5">Configure for building on the system
                  specified by "cpu-vendor-os". This value is guessed by
                  default.<br></td>
                </tr>

                <tr>
                  <td class="c5">--host=cpu-vendor-os<br></td>

                  <td class="c5">Cross-compile to run the product on the
                  system specified by "cpu-vendor-os". This value is set by
                  default to the value selected for the build host (see
                  above).<br></td>
                </tr>
              </tbody>
            </table>

            <h4><span class="c3">Basic Configure Options</span></h4>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c4" width="24%">Option<br></td>

                  <td class="c4" width="76%">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">--buildNumber=NUMBER<br></td>

                  <td class="c5">Set the build number part of the version
                  (the last digit of a version number, e.g. 1.0.0-X).</td>
                </tr>

                <tr>
                  <td class="c5">--defaults=FILE<br></td>

                  <td class="c5">Set the file name of the default settings
                  file. Supply the bare filename without the .defaults
                  extension.<br></td>
                </tr>

                <tr>
                  <td class="c5">--help<br></td>

                  <td class="c5">Display the usage help.<br></td>
                </tr>

                <tr>
                  <td class="c5">--name=NAME<br></td>

                  <td class="c5">Set the full product multi-word product name
                  (BLD_NAME define).<br></td>
                </tr>

                <tr>
                  <td class="c5">--port=PORT<br></td>

                  <td class="c5">Set the default HTTP port to listen
                  on.<br></td>
                </tr>

                <tr>
                  <td class="c5">--product=NAME<br></td>

                  <td class="c5">Set the one word (no spaces) name of the
                  product (BLD_PRODUCT).<br></td>
                </tr>

                <tr>
                  <td class="c5">--quiet, -q, --silent<br></td>

                  <td class="c5">Run quietly.<br></td>
                </tr>

                <tr>
                  <td class="c5">--reset<br></td>

                  <td class="c5">Reset all values to their factory default
                  settings.<br></td>
                </tr>

                <tr>
                  <td class="c5">--setLibVersion<br></td>

                  <td class="c5">Set the shared library version number of the
                  Appweb shared library (Should not need to
                  change).<br></td>
                </tr>

                <tr>
                  <td class="c5">--setVersion<br></td>

                  <td class="c5">Set the version number of the Appweb
                  product.<br></td>
                </tr>

                <tr>
                  <td class="c5">--sslPort=PORT<br></td>

                  <td class="c5">Set the default SSL port to listen
                  on.<br></td>
                </tr>

                <tr>
                  <td class="c5">--type=BUILD<br></td>

                  <td class="c5">Set the build type (DEBUG |
                  RELEASE)<br></td>
                </tr>

                <tr>
                  <td class="c5">--version=X.Y.Z<br></td>

                  <td class="c5">Set the product version number
                  (Major.Minor.Patch)<br></td>
                </tr>
              </tbody>
            </table><br>

            <h4><span class="c3">Feature Options<br></span></h4>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c7" nowrap="nowrap">Option<br></td>

                  <td class="c7" nowrap="nowrap">Default<br></td>

                  <td class="c7" width="61%">Description<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">--disable-FEATURE<br></td>

                  <td class="c5" nowrap="nowrap"><br></td>

                  <td class="c5">Do not include the FEATURE. This is the
                  general form to enable the features described
                  below.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">--enable-FEATURE<br></td>

                  <td class="c5" nowrap="nowrap"><br></td>

                  <td class="c5">Include the FEATURE. This is the general
                  form to enable the features described below.</td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">
                  --enable-access-log<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Enable logging of HTTP requests into the
                  Appweb access log<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">--enable-assert<br></td>

                  <td class="c5" nowrap="nowrap">Disabled<br></td>

                  <td class="c5">Build with debug assert checking on. This
                  will slow Appweb somewhat.<br></td>
                </tr>

                <tr><td>--enable-c-api-client</td><td>Enabled</td><td>Buidl with the HTTP client C language API.</td></tr><tr>
                  <td class="c5" nowrap="nowrap">--enable-config-parse<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build with the ability to parse the
                  Apache-style configuration files used by Appweb.<br></td>
                </tr>

                <tr><td>--enable-config-save</td><td>Disabled</td><td>Build with the ability to write out the Appweb configuration file.</td></tr><tr>
                  <td class="c5" nowrap="nowrap">--enable-cookie<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build with cooking handling
                  support.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">
                  --enable-digest-auth<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build with Digest authentication
                  support.<br></td>
                </tr>

                <tr><td>--enable-ejs</td><td>Enabled</td><td>Include the EJScript language.</td></tr><tr><td>--enable-floating-point</td><td>Enabled</td><td>Include floating point support in EJScript.</td></tr><tr>
                  <td class="c5" nowrap="nowrap">
                  --enable-if-modified<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build with the HTTP If-Modified checking.
                  Only return documents to the browser if they have been
                  modified.<br></td>
                </tr>

                <tr><td>--enable-ipv6</td><td>Disabled</td><td>Build with IPv6 support.</td></tr><tr>
                  <td class="c5" nowrap="nowrap">
                  --enable-keep-alive<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build with the HTTP Keep-Alive
                  support.<br></td>
                </tr>

                <tr><td>--enable-legacy-api</td><td>Disabled</td><td>Build with legacy API support for backwards compatibility.</td></tr><tr>
                  <td class="c5" nowrap="nowrap">--enable-log<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build with the Appweb trace log facility.
                  Use the "-l" appweb switch to enable at
                  run-time.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">--enable-modules<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build with the ability to load Appweb
                  dynamic modules.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">
                  --enable-multi-thread<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build Appweb multi-threaded. Use
                  --disable-multi-thread to build single-threaded.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">--enable-rom-fs<br></td>

                  <td class="c5" nowrap="nowrap">Disabled<br></td>

                  <td class="c5">Build with the ability to load web pages
                  from a compiled web page store in ROM.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">
                  --enable-run-as-service<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build with the ability to run as a system
                  service or daemon.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">
                  --enable-safe-strings<br></td>

                  <td class="c5" nowrap="nowrap">Disabled<br></td>

                  <td class="c5">Enforce the use of safe string handling
                  routines (ie. prevent sprintf and other unsafe
                  routines)<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">--enable-session<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build with HTTP session support.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">--enable-shared<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build a shared Appweb library and program
                  using shared libraries. Can be used with --enable-static to
                  also build static versions.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">
                  --enabled-shared-libc<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Link with the shared version of the system
                  libc library. This must be enabled if using glibc as it
                  cannot statically link when using routines from the NSS
                  library as Appweb does. uClibc does not suffer from this
                  limitation.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">--enable-squeeze<br></td>

                  <td class="c5" nowrap="nowrap">Disabled<br></td>

                  <td class="c5">Build in squeeze mode for a minimal memory
                  footprint.<br></td>
                </tr>

                <tr>
                  <td class="c5" nowrap="nowrap">--enable-static<br></td>

                  <td class="c5" nowrap="nowrap">Enabled<br></td>

                  <td class="c5">Build a static Appweb library and program
                  using static libraries. Can also be used with
                  --enable-shared to build shared versions.<br></td>
                </tr><tr><td>--enable-stdc++<br>--enable-stdcpp</td><td>Disabled</td><td>Build
with the standard libc libstdc++ library instead of the builtin Appweb
alternative. Results in bigger memory requirements if enabled.</td></tr><tr><td>--enable-test</td><td>Disabled</td><td>Build with the test framework. (Requires SVN checkout)</td></tr>
              </tbody>
            </table><br>

            <h4><span class="c3">Optional Modules and
            Handlers<br></span></h4>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c8" width="22%">Option<br></td>

                  <td class="c8" width="12%">Default<br></td>

                  <td class="c8" width="66%">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-MODULE<br></td>

                  <td class="c5"><br></td>

                  <td class="c5">Include the MODULE when building Appweb. The
                  MODULEs are described below.<br></td>
                </tr>

                <tr>
                  <td class="c5">--without-MODULE<br></td>

                  <td class="c5"><br></td>

                  <td class="c5">Do not include the MODULE when building
                  Appweb.<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-admin<br></td>

                  <td class="c5">Enabled<br></td>

                  <td class="c5">Include the administration handler. This is
                  for debug purposes and creates security risks. It should
                  not be loaded in a production server.<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-auth<br></td>

                  <td class="c5">Enabled<br></td>

                  <td class="c5">Include the authorization
                  handler.<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-c-api<br></td>

                  <td class="c5">Enabled<br></td>

                  <td class="c5">Include the C API. Only necessary if
                  creating or loading modules that use the C API.<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-cgi<br></td>

                  <td class="c5">Enabled<br></td>

                  <td class="c5">Include the CGI handler.<br></td>
                </tr>

                <tr><td>--with-copy</td><td>Enabled</td><td>Include support for the copy handler. This
                  is the default document handler that will copy a files
                  contents back to the client browser.</td></tr><tr>
                  <td class="c5">--with-gacompat<br></td>

                  <td class="c5">Disabled<br></td>

                  <td class="c5">Include GoAhead WebServer API compatibility.
                  Only needed if migrating applications from the GoAhead
                  WebServer.<br></td>
                </tr>

                

                <tr>
                  <td class="c5">--with-egi<br></td>

                  <td class="c5">Enabled<br></td>

                  <td class="c5">Include support for the Embedded Gateway
                  Interface (EGI). This is a more modern replacement for CGI.
                  In most cases the ESP handler is a better
                  option.<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-esp<br></td>

                  <td class="c5">Enabled<br></td>

                  <td class="c5">Include support for the Embedded Server
                  Pages (ESP) module.<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-ssl<br></td>

                  <td class="c5">Enabled<br></td>

                  <td class="c5">Include support for the SSL protocol. You
                  also need to define an SSL provider such as
                  Openssl.<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-upload<br></td>

                  <td class="c5">Disabled<br></td>

                  <td class="c5">Include support for the file upload
                  handler.<br></td>
                </tr>
              </tbody>
            </table><span class="c3"><br></span>

            <h4>Optional Packages</h4>

            <h4 class="c3">Use these switches for the php5, matrixssl and
            openssl packages.</h4>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c7" width="42%">Option<br></td>

                  <td class="c7" width="47%">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-PACKAGE=[builtin, |
                  loadable]<br></td>

                  <td class="c5">Specify if a PACKAGE should be included in
                  the build. The package may be either built-into the Appweb
                  images using static linking or it may be built as a
                  loadable module. Normally you should choose either builtin
                  or module.<br></td>
                </tr>

                <tr>
                  <td class="c5">--without-PACKAGE<br></td>

                  <td class="c5">Do not include the PACKAGE in the
                  build.<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-PACKAGE-dir=DIR<br></td>

                  <td class="c5">Set the source directory for the
                  PACKAGE.<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-PACKAGE-libpath=DIR</td>

                  <td class="c5">Set the directory where the package places
                  its built libraries. Usually some directory under the
                  PACKAGE-dir directory.</td>
                </tr>

                <tr>
                  <td class="c5">--with-PACKAGE-libs=LIBRARIES<br></td>

                  <td class="c5">List of libraries to use when linking with
                  the PACKAGE.<br></td>
                </tr>

                <tr>
                  <td>--with-PACKAGE-iflags="-Idir ...."</td>

                  <td>Include flags to use when compiling</td>
                </tr>

                <tr>
                  <td>--with-PACKAGE-cflags="compile flags"</td>

                  <td>Compiler flags to use when compiling</td>
                </tr>

                <tr>
                  <td>--with-PACKAGE-ldflags="link flags"</td>

                  <td>Link flags to use when building the PACKAGE module.
                  Only relevenat for loadable modules.</td>
                </tr>

                <tr>
                  <td class="c5">--with-matrixssl=[builtin, | module]</td>

                  <td class="c5">Build with the MatrixSSL package. The source
                  distribution default is disabled. Requires dir, libpath, libs, cflags, iflags and ldflags to be defined.<br></td>
                </tr>

                <tr>
                  <td class="c5">--with-php5=[builtin, | module]<br></td>

                  <td class="c5">Build with the PHP5 package. The source
                  distribution default is disabled. Requires dir, libpath, libs, cflags, iflags and ldflags to be defined.</td>
                </tr>

                <tr>
                  <td class="c5">--with-openssl=[builtin, |
                  module]<br></td>

                  <td class="c5">Build with the Openssl package. The source
                  distribution default is disabled. Requires dir, libpath, libs, cflags, iflags and ldflags to be defined.</td>
                </tr>
              </tbody>
            </table>

            <p>As an example. To build with PHP5, you will need to use a
            configure command similar to the following:</p>
            <pre>DIR=/Users/mob/svn/packages/php/php-5.2.0 ; \<br>    ./configure -with-php5=builtin --with-php5-dir=$DIR \<br>        --with-php5-iflags="-I$DIR -I$DIR/main -I$DIR/Zend -I$$DIR/TSRM" \<br>        --with-php5-libpath="$DIR/libs" --with-php5-libs="libphp5 crypt resolv db z
</pre><br><h2><a name="variables" id="variables"></a><a href="building.html#top"><img class="nav" src="../../../images/upArrow.gif" height="16" width="16"></a><span class="c3">Build Variables</span>
            (Reference)</h2>

            <p>The configure program will define the following variables
            (among others) in the relevant buildCconfig.* and buildConfig.h
            configuration files.<br></p>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c10" height="52">Variable<br></td>

                  <td class="c10">Typical Value<br></td>

                  <td class="c10">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_BUILD_CC<br></td>

                  <td class="c5">cc (cl on windows)<br></td>

                  <td class="c5">C/C++ compiler to use when building
                  bootstrap tools that are used in the build
                  process.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_BUILD_CPU_ARCH</td>

                  <td class="c5">MPR_CPU_IX86</td>

                  <td class="c5">Build system CPU architecture. Possible
                  values defined in mpr/mprOs.h.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_BUILD_CPU<br></td>

                  <td class="c5">i586</td>

                  <td class="c5">Build system CPU. Possible values defined in
                  conf/config.sub. Used in the --build switch to
                  configure.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_BUILD_LD<br></td>

                  <td class="c5">ld (link on windows)<br></td>

				  <td class="c5">Linker program to use when building
                  bootstrap tools that are used in the build
                  process.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_BUILD_OS</td>

                  <td class="c5">WIN</td>

                  <td class="c5">Build system operating system. Used in
                  cross-development.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_COMPANY<br></td>

                  <td class="c5">"Embedthis"<br></td>

                  <td class="c5">Name of the company distributing the
                  product. You may change this.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_DEBUG<br></td>

                  <td class="c5">1<br></td>

                  <td class="c5">Set to 1 if BLD_TYPE is set to
                  DEBUG.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_DOC_PREFIX<br></td>

                  <td class="c5">/usr/share/appweb-1.1.2<br></td>

                  <td class="c5">Default product documentation and samples
                  installation prefix.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_AR<br></td>

                  <td class="c5">ar (lib on windows)<br></td>

                  <td class="c5">Archiver / library program for target
                  host.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_CFLAGS<br></td>

                  <td class="c5">""<br></td>

                  <td class="c5">The value of the CFLAGS environment variable
                  when configure was run. Used for compiling programs for the
                  target host.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_CC<br></td>

                  <td class="c5">cc (cl on windows)<br></td>

                  <td class="c5">C/C++ compiler for compiling programs for
                  the target host.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_CPU_ARCH</td>

                  <td class="c5">MPR_CPU_IX86</td>

                  <td class="c5">Target host CPU architecture. Possible
                  values defined in mpr/mprOs.h.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_CPU<br></td>

                  <td class="c5">i586</td>

                  <td class="c5">Target host CPU. Possible values defined in
                  conf/config.sub. Used in the --host switch to
                  configure.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_OS</td>

                  <td class="c5">LINUX</td>

                  <td class="c5">Target operating system.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_UNIX<br></td>

                  <td class="c5">1<br></td>

                  <td class="c5">Set to TRUE if the target O/S is
                  UNIX-like.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_HTTP_PORT<br></td>

                  <td class="c5">80<br></td>

                  <td class="c5">The default HTTP port to listen
                  on.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_INC_PREFIX<br></td>

                  <td class="c5">/usr/include/appweb<br></td>

                  <td class="c5">Default product header location.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_IFLAGS<br></td>

                  <td class="c5">""<br></td>

                  <td class="c5">The value of the IFLAGS environment variable
                  when configure was run.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_LD<br></td>

                  <td class="c5">ld (link on windows)<br></td>

                  <td class="c5">Linker program.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_LDFLAGS<br></td>

                  <td class="c5">""<br></td>

                  <td class="c5">The value of the LDFLAGS environment
                  variable when configure was run.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_LIB_PREFIX<br></td>

                  <td class="c5">/usr/lib<br></td>

                  <td class="c5">Default product shared library
                  location.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_NAME<br></td>

                  <td class="c5">"Embedthis Appweb"<br></td>

                  <td class="c5">Multiword name of the product.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_NUMBER<br></td>

                  <td class="c5">1<br></td>

                  <td class="c5">Build version number. This is the fourth
                  digit of a version number.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_PREFIX<br></td>

                  <td class="c5">/etc/appweb<br></td>

                  <td class="c5">Default installation directory
                  prefix.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_PRODUCT<br></td>

                  <td class="c5">appweb<br></td>

                  <td class="c5">One word name of the product.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_HOST_RANLIB<br></td>

                  <td class="c5">ranlib<br></td>

                  <td class="c5">Program to rebuild library symbol tables for
                  the target host.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_SBIN_PREFIX<br></td>

                  <td class="c5">/usr/sbin<br></td>

                  <td class="c5">Default location for product system
                  binaries.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_SRC_PREFIX<br></td>

                  <td class="c5">/usr/src/appweb-1.1.2<br></td>

                  <td class="c5">Default product documentation and samples
                  installation prefix.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_SSL_PORT<br></td>

                  <td class="c5">443<br></td>

                  <td class="c5">The default SSL port to listen
                  on.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_TYPE<br></td>

                  <td class="c5">DEBUG<br></td>

                  <td class="c5">Build type. Set to RELEASE or
                  DEBUG.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_VERSION<br></td>

                  <td class="c5">1.1.2<br></td>

                  <td class="c5">Version number of the format
                  Major.Minor.Patch<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_WEB_PREFIX<br></td>

                  <td class="c5">/var/appweb/web<br></td>

                  <td class="c5">Default web document root.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_FEATURE_NAME<br></td>

                  <td class="c5">0 or 1<br></td>

                  <td class="c5">Enable or disable the feature by
                  NAME.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_FEATURE_NAME_MODULE<br></td>

                  <td class="c5">0 or 1<br></td>

                  <td class="c5">Enable the building of the module by
                  NAME.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_FEATURE_NAME_MODULE_BUILTIN<br></td>

                  <td class="c5">0 or 1<br></td>

                  <td class="c5">Statically link the module into
                  Appweb.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_FEATURE_NAME_MODULE_LOADABLE<br></td>

                  <td class="c5">0 or 1<br></td>

                  <td class="c5">Build the module as a dynamically loadable
                  module.<br></td>
                </tr>
              </tbody>
            </table>

            <h2><a href="#top"><img class="nav" src="../../../images/upArrow.gif" height="16" width="16"></a>
            Building<a name="building" id="building"></a></h2>

            <h3>Building from Source</h3>

            <p>Once the build configuration is complete, you may proceed to
            build the source code by typing:</p>
            <pre> make        <br>
</pre>

            <p>This will first make the build bootstrap utilities and will
            then create the make dependencies before compiling the code. It
            achieves this by automatically doing the following command
            sequence:</p>

            <ol>
              <li>
                <p>make clean</p>
              </li>

              <li>
                <p>make compile -C bootstrap</p>
              </li>

              <li>
                <p>make depend</p>
              </li>

              <li>
                <p>make compile</p>
              </li>

              <li>
                <p>make install</p>
              </li>

              <li>
                <p>make uninstall</p>
              </li>
            </ol>

            <p>To understand more about the make system, read about the
            Appweb <a href="#makeSystem">make system</a> below.</p>

            <h2><a href="#top"><img class="nav" src="../../../images/upArrow.gif" height="16" width="16"></a>
            Installing <a name="installing" id="installing"></a></h2>

            <p>You can install by typing "make install" and remove via "make
            uninstall". If you are installing to the default system locations
            for Appweb, you will need to login as root or attain
            root/administration privilege before running "make install".</p>

            <p>You can also install other Appweb components by typing:</p>

            <table class="contentTable c4" border="1" cellpadding="1" cellspacing="0">
              <tbody>
                <tr bgcolor="#999999">
                  <td width="19%"><span class="style3">Command</span></td>

                  <td width="44%"><span class="style3">Description</span></td>

                  <td width="37%"><span class="style3">Configure Location
                  Option</span></td>
                </tr>

                <tr>
                  <td>make install</td>

                  <td>Install only the binaries (same as make
                  install-binary)</td>

                  <td>--prefix</td>
                </tr>

                <tr>
                  <td nowrap="nowrap">make install-binary</td>

                  <td>Install minimal binary files only to run Appweb</td>

                  <td>--prefix --webDir</td>
                </tr>

                <tr>
                  <td>make install-dev</td>

                  <td>Install the product documentation</td>

                  <td>--libDir --incDir</td>
                </tr>

                <tr>
                  <td>
                    <p>make install-doc</p>
                  </td>

                  <td>Install the product documentation</td>

                  <td>--docDir</td>
                </tr>

                <tr>
                  <td nowrap="nowrap">make install-samples</td>

                  <td>Install the samples</td>

                  <td>--docDir</td>
                </tr>

                <tr>
                  <td>make install-src</td>

                  <td>Install the source code</td>

                  <td>--srcDir</td>
                </tr>

                <tr>
                  <td>make install-all</td>

                  <td>Install everything except the source code</td>

                  <td>ALL</td>
                </tr>
              </tbody>
            </table>

            <p>You can remove the components by using make uninstall-ITEM.
            Where ITEM is one of the above components: binary, dev, doc,
            samples, src, or all.</p>

            <p>You can selectively modify installation directories by setting
            the appropriate configure location option. For example:</p>
            <pre>./configure --prefix=/home/myDir --webDir=/www/html<br>
</pre>

            <p>If you want to install to a local directory before copying the
            installation to another system, you can rebase all the
            installation directories by setting the ROOT_DIR environment
            variable. This will prepend the ROOT_DIR to all the installation
            directories specified to configure. For example:</p>
            <pre> make ROOT_DIR=/myDir install<br>
</pre>

            <p>This will copy the binary installation files to
            /myDir.<br></p>

            <h3>Building from the Source Code Repository</h3>

            <p>To get a latest copy of Appweb source code, you will need to
            have installed the Subversion source code control client.
            Subversion is similar to CVS, only better. Most major linux
            distributions now include the client. To download a copy, go
            to:<br></p>
            <pre> <a href="http://subversion.tigris.org/">http://subversion.tigris.org/</a>
<br>
</pre>

            <p>Once you have the Subversion client installed, you will need
            to send email to dev@mbedthis.com to receive a login name and
            password so you can access the repository. Once you have these
            details, you can checkout a copy of the Appweb source code
            via:</p>
            <pre> svn checkout <a href="https://www.mbedthis.com/svn/appWeb/main">http://www.mbedthis.com/svn/appweb/main</a>
</pre>

            <h2><a href="#top"><img class="nav" src="../../../images/upArrow.gif" height="16" width="16"></a> Key
            Files and Directories<a name="keyFiles" id="keyFiles"></a></h2>

            <p>The Embedthis Appweb source tree contains the following key
            directories under the top directory.</p>

            <table class="c13 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c11 c5" width="8%">appweb</td>

                  <td width="11%"></td>

                  <td width="81%">The main directory for the Appweb main
                  programs</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%"></td>

                  <td width="11%">test</td>

                  <td width="81%">Integration tests for Appweb</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%"></td>

                  <td width="11%">web</td>

                  <td width="81%">HTML files used by appweb</td>
                </tr>

                <tr>
                  <td class="c12 c5">samples<br></td>

                  <td class="c5"><br></td>

                  <td class="c5"><br></td>
                </tr>

                <tr>
                  <td class="c12 c5"><br></td>

                  <td class="c5">C++<br></td>

                  <td class="c5">Appweb samples written in C++<br></td>
                </tr>

                <tr>
                  <td class="c12 c5"><br></td>

                  <td class="c5">C<br></td>

                  <td class="c5">Appweb samples written in C<br></td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%">bin</td>

                  <td width="11%"></td>

                  <td width="81%">
                    <p>Directory to hold generated executables<br></p>
                  </td>
                </tr>

                <tr>
                  <td class="c12 c5">build<br></td>

                  <td class="c5"><br></td>

                  <td class="c5">Essential configuration files and Makefile
                  rules<br></td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%">doc</td>

                  <td width="11%"></td>

                  <td width="81%">Appweb documentation</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%">ejs</td>

                  <td width="11%"></td>

                  <td width="81%">Embedded JavaScript Engine for Appweb</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%"></td>

                  <td width="11%">test</td>

                  <td width="81%">Unit tests for EJS</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%">http</td>

                  <td width="11%"></td>

                  <td width="81%">The core HTTP web server for Appweb</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%"></td>

                  <td width="11%">modules</td>

                  <td width="81%">Dynamically loadable modules and handlers.
                  Also used for statically linked modules</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%"></td>

                  <td width="11%">utils</td>

                  <td width="81%">Utility programs: httpComp,
                  httpPassword</td>
                </tr>

                <tr>
                  <td class="c11 c5">lib</td>

                  <td></td>

                  <td>Directory to hold generated libraries</td>
                </tr>

                <tr>
                  <td class="c11 c5"></td>

                  <td>modules</td>

                  <td>Directory to hold dynamically loaded modules</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%">mpr</td>

                  <td width="11%"></td>

                  <td width="81%">The Embedthis Portable Runtime (MPR) that
                  provides a cross-platform executive for Appweb to use</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%"></td>

                  <td width="11%">UNIX</td>

                  <td width="81%">UNIX dependent files for Linux, Solaris and
                  other UNIX like operating systems<br></td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%"></td>

                  <td width="11%">test</td>

                  <td width="81%">Unit tests for the MPR</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="8%"></td>

                  <td width="11%">WIN</td>

                  <td width="81%">Windows dependent files</td>
                </tr>

                <tr>
                  <td class="c5"><span class="c3 c1">obj</span><br></td>

                  <td class="c5">obj</td>

                  <td class="c5">Directory to hold generated objects. Windows
                  will have Debug and Release subdirectories<br></td>
                </tr>

                <tr>
                  <td class="c5">tools</td>

                  <td class="c5"></td>

                  <td class="c5"></td>
                </tr>

                <tr>
                  <td class="c5"></td>

                  <td class="c5"><span class="c3 c1">bootstrap</span><br></td>

                  <td class="c5">Bootstrap tools used in the build
                  process<br></td>
                </tr>
              </tbody>
            </table>

            <h3><br>
            Key Build Files</h3>

            <table class="c13 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c5"><span class="c3 c1"></span>build/os/config.*<br></td>

                  <td class="c5">Key configure settings for a given operating
                  system. <br></td>
                </tr>

                <tr>
                  <td>build/make/make.os.*</td>

                  <td>Makefile definitions for a given operating system.</td>
                </tr>

                <tr>
                  <td class="c11 c5">build/make/make.rules</td>

                  <td>Key make targets and rules for all make files. <br>
                  </td>
                </tr>

                <tr>
                  <td class="c11 c5" width="19%">buildConfig.make</td>

                  <td width="81%">Build configuration file created by
                  configure and used by Make.<br></td>
                </tr>

                <tr>
                  <td class="c12 c5">buildConfig.sh<br></td>

                  <td class="c5">Build configuration file created by
                  configure and used by shell scripts including the bld
                  program.<br></td>
                </tr>

                <tr>
                  <td class="c12 c5">buildConfig.h<br></td>

                  <td class="c5">Build header created by configure and
                  included in all source files.<br></td>
                </tr>

                <tr>
                  <td class="c11 c5" width="19%">configure</td>

                  <td width="81%">Build configuration program.</td>
                </tr>

                <tr>
                  <td class="c11 c5" width="19%">tools/bld</td>

                  <td width="81%">Program to create executables and libraries
                  (like GNU/libtool).</td>
                </tr>

                <tr>
                  <td class="c11 c5">tools/makedep</td>

                  <td>First time generation of dynamic dependency files
                  (make.dep).</td>
                </tr>
              </tbody>
            </table><br>

            <h2><a href="#top" name="makeSystem" id="makeSystem"><img alt="top" class="nav c14" src="../../../images/upArrow.gif"></a>The
            Make System</h2>Appweb uses a customized build system using the
            standard GNU make tools. Its goals are to allow fine-grained
            control over the features that are enabled in the product and
            what modules are included, to minimize the code required in each
            makefile and to be cross-platform. The make system will run on
            any system supporting the GNU make and GNU bash shell programs.
            For the Windows environment, the build system relies on the
            Cygwin Unix emulation layer.<br>
            <br>
            The make system supports recursive compilation and building where
            each directory contains a Makefile. Typically, each makefile
            includes a dependency file called <span class="c9">make.dep</span>. This file is contains target dependencies
            and also references the primary configuration file
            (buildConfig.make) generated by the configure program. It also
            includes the make rules that are defined in the <span class="c9">make.rules</span> file which resides in the top directory of
            the source tree and make.os which contains per O/S make variables
            and transition rules.<br>

            <h4><span class="c3">Standard Make Targets</span></h4>The make
            system supports the following targets and all except <span class="c9">build</span>, operate recursively applying the same target
            to all defined subdirectories. The directories recursed are
            specified in the PRE_DIRS and POST_DIRS make variables.<br>
            <br>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c10">Target<br></td>

                  <td class="c10">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">build<br></td>

                  <td class="c5">Perform a make clean compile test<br></td>
                </tr>

                <tr>
                  <td class="c5">clean<br></td>

                  <td class="c5">Remove intermediate and generated
                  targets<br></td>
                </tr>

                <tr>
                  <td class="c5">compile<br></td>

                  <td class="c5">Compile source files<br></td>
                </tr>

                <tr>
                  <td class="c5">depend<br></td>

                  <td class="c5">Create the make.dep dependency
                  file<br></td>
                </tr>

                <tr>
                  <td class="c5">romfs<br></td>

                  <td class="c5">Create a rom file system image of the
                  distribution. Used in the appweb directory. Used by
                  uClinux.<br></td>
                </tr>

                <tr>
                  <td class="c5">package<br></td>

                  <td class="c5">Create an installable distribution
                  package<br></td>
                </tr>

                <tr>
                  <td class="c5">test<br></td>

                  <td class="c5">Run unit tests<br></td>
                </tr>
              </tbody>
            </table><br>
            An Appweb Makefile looks similar to this example:<br>
            <pre>COMPILE         := *.cpp<br>COMPILE_SHARED  := yes<br>POST_DIRS       := test<br>
include         make.dep<br>
compileExtra: myLib$(BLD_ARCHIVE) myProg$(BLD_EXE)<br>
myLib$(BLD_ARCHIVE): $(FILES)<br>    @bld --static --library myLib$(BLD_ARCHIVE) file$(BLD_OBJ) <br>
myProg$(BLD_EXE): $(FILES)<br>    @bld --executable myProg$(BLD_EXE) file$(BLD_OBJ)<br>
</pre><br>
            The top section defines environment variables that control make
            for this and subdirectories. The following table describes the
            possible make variables supported by Appweb.<br>

            <h4>User Make Variables</h4>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c7">Variable<br></td>

                  <td class="c7">Typical Value<br></td>

                  <td class="c7">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">MAKE_CFLAGS<br></td>

                  <td class="c5"><br></td>

                  <td class="c5">Any local compiler flags.<br></td>
                </tr>

                <tr>
                  <td class="c5">COMPILE<br></td>

                  <td class="c5">*.cpp<br></td>

                  <td class="c5">List of files to be compiled. Can contain
                  wild cards.<br></td>
                </tr>

                <tr>
                  <td class="c5">COMPILE_SHARED<br></td>

                  <td class="c5">yes<br></td>

                  <td class="c5">True / false value if compiled objects must
                  be sharable. On some systems, this implies position
                  independent code. This only has effect if
                  BLD_FEATURE_SHARED is true. See "configure
                  --enable-shared"<br></td>
                </tr>

                <tr>
                  <td class="c5">EXPORT_OBJECTS<br></td>

                  <td class="c5">yes<br></td>

                  <td class="c5">Export objects into a common object
                  directory, typically BLD_TOP/obj.<br></td>
                </tr>

                <tr>
                  <td class="c5">MAKE_IFLAGS<br></td>

                  <td class="c5"><br></td>

                  <td class="c5">Any local include flags.<br></td>
                </tr>

                <tr>
                  <td class="c5">MAKE_LDFLAGS<br></td>

                  <td class="c5"><br></td>

                  <td class="c5">Any local link flags.<br></td>
                </tr>

                <tr>
                  <td class="c5">PRE_DIRS<br></td>

                  <td class="c5"><br></td>

                  <td class="c5">List of directories to be recursed before
                  making the current directory.<br></td>
                </tr>

                <tr>
                  <td class="c5">POST_DIRS<br></td>

                  <td class="c5"><br></td>

                  <td class="c5">List of directories to be recursed after
                  making the current directory.<br></td>
                </tr>
              </tbody>
            </table>

            <p>The make.dep file is generated by invoking "make depend" which
            will run the genDepend program to parse the source files and
            generate the file dependency lists. For the first time build, the
            command <span class="c9">makedep</span> will generate stub
            make.dep files. A typical make.dep file looks like the
            following:</p>
            <pre>all: compile <br>
BLD_TOP := ../..<br><br>#<br>#   Read the build configuration settings and make <br>#   variable definitions.<br>#<br>
include $(BLD_TOP)/buildConfig.make <br>
FILES = \<br>    $(BLD_OBJ_DIR)/mprSample$(BLD_OBJ) \<br>    $(BLD_OBJ_DIR)/mprWinSample$(BLD_OBJ) <br><br>$(BLD_OBJ_DIR)/mprSample$(BLD_OBJ):  \<br>    ../../mpr/mpr.h \<br>    ../../config.h \<br>    ../../mpr/mprOs.h \<br>    ./mprSample.h <br>
$(BLD_OBJ_DIR)/mprWinSample$(BLD_OBJ):  \<br>    ../../mpr/mpr.h \<br>    ../../mpr/mprOs.h \<br>    ./mprSample.h<br>                       <br>#<br>#   Read the Makefile rules<br>#<br>include $(BLD_TOP)/build/make/make.rules<br>ifeq ($(BLD_NATIVE),1)<br>    include $(BLD_TOP)/build/make/make.os.$(BLD_BUILD_OS)<br>else<br>    include $(BLD_TOP)/build/make/make.os.$(BLD_HOST_OS)<br>endif<br>
</pre>

            <p><br>
            The BLD_TOP variable defines the top of the source tree and the
            FILES variable lists all files to be compiled. Three files are
            included. The first, <span class="c9">buildConfig.make</span>, is
            generated by the configure program and contains the configuration
            settings for this build. The <span class="c9">make.rules</span>
            file contains the Appweb make rules for any operating system. The
            make.os.$(BLD_HOST_OS) contains the rules for this operating
            system. You should not hand edit the make.dep files. All changes
            should go into the Makefile.<br></p>

            <h4>Supplimentary Make Variables</h4>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c7">Variable<br></td>

                  <td class="c7">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_TOP<br></td>

                  <td class="c5">Top level directory in the source
                  tree.<br></td>
                </tr>

                <tr>
                  <td class="c5">BUILD_CHECK<br></td>

                  <td class="c5">Used only by the top level makefile to check
                  that the environment has been correctly setup.<br></td>
                </tr>

                <tr>
                  <td class="c5">FILES<br></td>

                  <td class="c5">List of target objects to build. This is
                  created by the genDepnd program which is run when "make
                  depend" is invoked. It consults the variable COMPILE and
                  creates the FILES list.<br></td>
                </tr>
              </tbody>
            </table><br>

            <h4>buildConfig.make Variables</h4>The following variables are
            used by <span class="c9">buildConfig.make</span>. To ensure the
            entire source tree is relocatable, all paths are always paths
            relative to the top of the source tree. Don't use absolute
            paths.<br>
            <br>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c10">Variable<br></td>

                  <td style="text-align: left;" class="c17"><span class="c15">Ty</span><span class="c16">pical Value (Linux)</span><br></td>

                  <td class="c10">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_ARCHIVE<br></td>

                  <td style="text-align: left;" class="c18">.a<br></td>

                  <td class="c5">File extension for static
                  libraries.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_BIN_DIR<br></td>

                  <td style="text-align: left;" class="c18">${BLD_TOP}/bin<br></td>

                  <td class="c5">Directory to hold executable and
                  libraries.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_CFLAGS<br></td>

                  <td style="text-align: left;" class="c18">""<br></td>

                  <td class="c5">The value of the CFLAGS environment variable
                  when configure was run.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_CLASS<br></td>

                  <td style="text-align: left;" class="c18">.class<br></td>

                  <td class="c5">File extension for Java classes.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_EXE<br></td>

                  <td style="text-align: left;" class="c18">(.exe on Windows)<br></td>

                  <td class="c5">File extension for executables.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_EXP_OBJ_DIR<br></td>

                  <td style="text-align: left;" class="c18">${BLD_TOP}/obj<br></td>

                  <td class="c5">Common directory to hold exported
                  objects.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_IFLAGS<br></td>

                  <td style="text-align: left;" class="c18">""<br></td>

                  <td class="c5">The value of the IFLAGS environment variable
                  when configure was run.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_INC_DIR<br></td>

                  <td style="text-align: left;" class="c18">${BLD_TOP}/include<br></td>

                  <td class="c5">Include directory.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_LDFLAGS<br></td>

                  <td style="text-align: left;" class="c18">""<br></td>

                  <td class="c5">The value of the LDFLAGS environment
                  variable when configure was run.</td>
                </tr>

                <tr>
                  <td class="c5">BLD_LIB<br></td>

                  <td style="text-align: left;" class="c18">${BLD_TOP}/lib<br></td>

                  <td class="c5">Convenience variable set to either
                  "Static${BLD_ARCHIVE}" or ${BLD_SHOBJ}<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_OBJ<br></td>

                  <td style="text-align: left;" class="c18">.o<br></td>

                  <td class="c5">File extension for objects.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_OBJ_DIR<br></td>

                  <td style="text-align: left;" class="c18">${BLD_TOP}/obj<br></td>

                  <td class="c5">Directory to hold objects. May be "." if
                  EXPORT_OBJECTS is not defined.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_PIOBJ<br></td>

                  <td style="text-align: left;" class="c18">.lo<br></td>

                  <td class="c5">File extension for position independent
                  objects.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_SHLIB<br></td>

                  <td style="text-align: left;" class="c18">(.lib on windows)<br></td>

                  <td class="c5">Shared library extension when shared objects
                  and shared libraries are separate files.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_SHOBJ<br></td>

                  <td style="text-align: left;" class="c18">.so<br></td>

                  <td class="c5">File extension for shared
                  objects.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_TOOLS_DIR<br></td>

                  <td style="text-align: left;" class="c18">${BLD_TOP}/tools<br></td>

                  <td class="c5">Directory to hold build tools.<br></td>
                </tr>
              </tbody>
            </table>

            <h3><a name="bld" id="bld"></a>The bld Program</h3>The bld
            program is used to create executables, static libraries and
            shared libraries. It provides a cross-platform interface that
            requires minimal typing in makefiles.<br>
            <br>
            These make variabls are defined in the make.rules file and are
            passed to the <span class="c3">bld</span> program.<br>
            <br>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c7">Variable<br></td>

                  <td class="c7">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">_LD_OPT<br></td>

                  <td class="c5">Set to either _LD_OPT_DEBUG or
                  _LD_OPT_RELEASE depending whether the build is Debug or
                  Release.<br></td>
                </tr>

                <tr>
                  <td class="c5">_LD_OPT_DEBUG<br></td>

                  <td class="c5">Link options when building a Debug
                  version.<br></td>
                </tr>

                <tr>
                  <td class="c5">_LD_OPT_RELEASE<br></td>

                  <td class="c5">Link options when building a Release
                  version.<br></td>
                </tr>

                <tr>
                  <td class="c5">_LD_DLL<br></td>

                  <td class="c5">Link flag when building a DLL (shared
                  library).<br></td>
                </tr>

                <tr>
                  <td class="c5">_CC_OPT<br></td>

                  <td class="c5">Set to either _CC_OPT_DEBUG or
                  _CC_OPT_RELEASE depending whether the build is Debug or
                  Release.</td>
                </tr>

                <tr>
                  <td class="c5">_CC_OPT_DEBUG<br></td>

                  <td class="c5">Compiler options when building a Debug
                  version.<br></td>
                </tr>

                <tr>
                  <td class="c5">_CC_OPT_RELEASE<br></td>

                  <td class="c5">Compiler options when building a Release
                  version.<br></td>
                </tr>

                <tr>
                  <td class="c5">_CFLAGS<br></td>

                  <td class="c5">General compiler flags.<br></td>
                </tr>

                <tr>
                  <td class="c5">_IFLAGS<br></td>

                  <td class="c5">General compiler include flags.<br></td>
                </tr>

                <tr>
                  <td class="c5">_LDFLAGS<br></td>

                  <td class="c5">General linker flags.<br></td>
                </tr>

                <tr>
                  <td class="c5">_NATIVE_LIBS<br></td>

                  <td class="c5">Standard libraries to use when building
                  bootstrap tools that must be compiled natively.<br></td>
                </tr>

                <tr>
                  <td class="c5">_WARNING<br></td>

                  <td class="c5">Compiler warning control flags.<br></td>
                </tr>

                <tr>
                  <td class="c5">_SHARED_LIBS<br></td>

                  <td class="c5">Standard shared libraries to use in every
                  shared link.<br></td>
                </tr>

                <tr>
                  <td class="c5">_STATIC_LIBS<br></td>

                  <td class="c5">Standard static libraries to use in every
                  static link.<br></td>
                </tr>

                <tr>
                  <td class="c5">_LDPATH<br></td>

                  <td class="c5">Path to directory containing
                  libraries.<br></td>
                </tr>
              </tbody>
            </table><br>

            <h4>Bld Program Switches</h4>In addition to the environment
            variables defined in the config.sh file, the <span class="c3">bld</span> program takes the following command line
            switches:<br>
            <br>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c10" width="31%">Switch<br></td>

                  <td class="c10" width="69%">Description<br></td>
                </tr>

                <tr><td>--c++</td><td>Library
or executable includes components written in C++ and so must link with
a relevant stdc++ library. See the configure --enable-stdc++ setting.</td></tr><tr>
                  <td class="c5">--debug<br></td>

                  <td class="c5">Not implemented<br></td>
                </tr>

                <tr>
                  <td class="c5">--dry-run<br></td>

                  <td class="c5">Trace commands but do not execute<br></td>
                </tr>

                <tr>
                  <td class="c5">--entry NAME<br></td>

                  <td class="c5">Shared library entry point<br></td>
                </tr>

                <tr>
                  <td class="c5">--executable NAME<br></td>

                  <td class="c5">Name of executable to build<br></td>
                </tr>

                <tr>
                  <td class="c5">--graphical<br></td>

                  <td class="c5">Create a windowed program instead of a
                  console program (Windows only)<br></td>
                </tr>

                <tr>
                  <td class="c5">--help<br></td>

                  <td class="c5">Print usage information<br></td>
                </tr>

                <tr>
                  <td class="c5">--library NAME<br></td>

                  <td class="c5">Name of library to link<br></td>
                </tr>

                

                <tr>
                  <td class="c5">--libraryPath "PATHS..."<br></td>

                  <td class="c5">Paths to search for the libraries<br></td>
                </tr>

                <tr><td>--libs "LIBRARIES ..."</td><td>Extra libraries to link with</td></tr><tr>
                  <td class="c5">--native<br></td>

                  <td class="c5">Build for local execution not for execution
                  on the target system<br></td>
                </tr>

                <tr>
                  <td class="c5">--objects "OBJECTS ..."<br></td>

                  <td class="c5">String containing list of objects to
                  link<br></td>
                </tr>

                <tr>
                  <td class="c5">--objectsDir PATH<br></td>

                  <td class="c5">Directory to find / store objects<br></td>
                </tr>

                <tr>
                  <td class="c5">--quiet<br></td>

                  <td class="c5">Run quietly without tracing actions to
                  stdout<br></td>
                </tr>

                <tr>
                  <td class="c5">--preferShared<br></td>

                  <td class="c5">Link with shared libraries by
                  preference<br></td>
                </tr>

                <tr>
                  <td class="c5">--preferStatic<br></td>

                  <td class="c5">Link with static libraries by
                  preference<br></td>
                </tr>

                <tr>
                  <td class="c5">--resources FILE<br></td>

                  <td class="c5">Resource file (menus and icons for
                  Windows)<br></td>
                </tr>

                <tr>
                  <td class="c5">--rpath PATH<br></td>

                  <td class="c5">Specify the executable run-time library
                  search path (Unix only)<br></td>
                </tr>

                <tr>
                  <td class="c5">--shared<br></td>

                  <td class="c5">Only make a shared library<br></td>
                </tr>

                <tr>
                  <td class="c5">--soname<br></td>

                  <td class="c5">Create a versioned shared library with a
                  SONAME<br></td>
                </tr>

                <tr>
                  <td class="c5">--static<br></td>

                  <td class="c5">Only make a static library<br></td>
                </tr>

                <tr><td>--syslibs libraries</td><td>Extra system libraries with which to link.</td></tr><tr>
                  <td class="c5">--version<br></td>

                  <td class="c5">Print the bld version number.<br></td>
                </tr><tr><td>--versionSoname</td><td>Create a versioned shared library with soname.</td></tr>
              <tr><td>--verbose</td><td>Verbose operation.</td></tr></tbody>
            </table><br>
            The <span class="c3">bld</span> program also uses the following
            environment variables:<br>
            <br>

            <table class="c6 contentTable" border="1" cellpadding="3" cellspacing="0">
              <tbody>
                <tr>
                  <td class="c10">Variable<br></td>

                  <td class="c10">Description<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_TOP<br></td>

                  <td class="c5">Top of the source tree. This is
                  automatically set by the genDepend program in the make.dep
                  files.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_FEATURE_SHARED<br></td>

                  <td class="c5">Build shared libraries where relevant. This
                  is defined by the configure --enable-shared
                  switch.<br></td>
                </tr>

                <tr>
                  <td class="c5">BLD_FEATURE_STATIC<br></td>

                  <td class="c5">Build static libraries where relevant. This
                  is defined by the configure --enable-static switch.</td>
                </tr>
              </tbody>
            </table><br>
          </div>
        </td>

        <td class="contentSep"><br></td>

        <td class="contentSideBar">
          <div class="linkSection">
            <h2>Quick Nav</h2><a href="#supportedPlatforms">Supported
            Platforms</a><br>
            <a href="#overview">Overview</a><br>
            <a href="#setup">Setup<br></a> <a href="#configuring">Configuring the Build</a><br>
            <a href="#runningConfigure">Running Configure</a><br>
            <a href="#cross">Cross Compiling</a><br>
            <a href="#environment">Environment Variables</a><br>
            <a href="#commandLine">Command Line</a><br>
            <a href="#variables">Build Variables</a><br>
            <a href="#building">Building</a><br>
            <a href="#installing">Installing</a><br>
            <a href="#keyFiles">Key File and Directories</a><br>
            <a href="#makeSystem">Make System</a><br>

            <h2>See Also</h2><a href="../../../product/newFeatures.html">New
            Features</a><br>
            <a href="../../../product/releaseNotes.html">Release
            Notes</a><br>
            <a href="../../../product/install/linux.html">Installing on
            Linux</a><br>
            <a href="../../../product/install/windows.html">Installing on
            Windows</a><br>
            <a href="porting.html">Porting Guide</a>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

<!-- BeginDsi "dsi/terms.html" -->
<p class="terms"> 
	<a href="../../../product/copyright.html"
		>&copy; Embedthis Software LLC, 2003-2009. All 
		rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
</p>
<!-- EndDsi -->

</body></html>
