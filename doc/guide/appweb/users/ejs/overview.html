<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Embedthis Appweb -- Embedded JavaScript</title>
  

<!-- BeginDsi "dsi/meta.html" -->
	<meta name="keywords" content="embedded web server, web server software, 
		embedded HTTP, application web server, embedded server,
		small web server, HTTP server, library web server, library HTTP,
		HTTP library" />
	<meta name="description" content="Embedthis Sofware provides 
		open source embedded web servers for devices and applications." />
	<meta name="robots" content="index,follow" />
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/js.html" -->
	<script language="JavaScript" type="text/javascript">
		document._ROOT_="../../../../";
	</script>
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/style.html" -->
	<link rel="stylesheet" type="text/css" href="../../../../css/doc.css">
<!-- EndDsi -->

<style type="text/css">
/*<![CDATA[*/
 span.c3 {font-weight: bold;}
 img.c2 {border: 0px solid ; width: 16px; height: 16px;}
 span.c1 {font-weight: bold; color: rgb(255, 255, 255);}
/*]]>*/
</style>
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0">
  

<!-- BeginDsi "dsi/navTop.html" -->
	<div class="background">
		<table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td>
					<a name="top"></a>
					<img src="../../../../images/backLeft.png" width="400" 
						height="93" border="0" ismap usemap="#home" /><br />
					<map name="home">
						<area coords="0,0,93,93" 
						href="http://www.mbedthis.com/index.html" />
					</map>
				</td>
				<td width="100%">
					<img src="../../../../images/backMiddle.png" width="100%" 
						height="93" border="0" /><br />
				</td>
				<td>
					<img src="../../../../images/backRight.png" width="354" 
						height="93" border="0" /><br />
				</td>
			</tr>
		</table>
	</div>

	<div class="navTop"> 
		<table cellpadding="0" cellspacing="0" border="0" align="top">
			<tr>
				<td valign="bottom"> 
					<a href="http://www.mbedthis.com/" class="navTop"
					>Embedthis Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../../product/index.html" class="navTop"
					>Documentation Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../../guide/appweb/users/admin/overview.html" class="navTop"
					>Administration</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../../api/gen/appweb/overview.html" class="navTop"
					>Programmers Reference</a>
				</td>
				<td valign="bottom"> 
<!--
					<form class="smallText" action="../../../../search.php" 
						method="post" name="searchForm" id="searchForm">
					</form>
					&nbsp; 
					<input class="smallText" type="text" name="search" 
						align="right" id="searchInput" size="15" maxlength="50"
						value="Sorry, No Searching" />
-->
				</td>
			</tr>
		</table>
	</div>

<!-- EndDsi -->

  <div class="navHistory">
    

<!-- BeginDsi "dsi/navHistory.html" -->
	<a href="../../../../product/index.html">Documentation Home</a> &gt; 
<!-- EndDsi -->

     <a href="../overview.html">User Guide</a> &gt; <span class="c1">Embedded
    JavaScript</span>
  </div>

  <table class="contentTable" border="0" height="100%">
    <tbody>
      <tr>
        <td class="content">
          <div class="guideHeader">
            <h1>

<!-- BeginDsi "dsi/backArrow.html" -->
			<a href="../../../../product/index.html"><img width="19" height="14" 
				class="nav" src="../../../../images/leftArrow.gif" /></a>
<!-- EndDsi -->

             Embedded JavaScript&#8482;<br /></h1>
          </div>

          <div class="guideSection">
            JavaScript is an interpreted, object oriented language suitable
            for embedding in applications and devices. Best known as the
            scripting language for browsers, JavaScript is general purpose
            language that can also be used for web server scripting and many
            other embedded scripting needs. Embedded JavaScript is used by
            Embedded Server Pages to allow access to HTTP variables and to
            retrieve dynamic data for presentation to the client's
            browser.<br />
            <br />
            JavaScript was originally developed by Netscape but has
            subsequently been standardized as ECMAScript. The ECMA-262
            standard describes JavaScript 1.5 which is the basis for Embedded
            JavaScript.<br />
            <br />
            JavaScript is syntactically similar to C or C++. JavaScript
            expresssions and statements such as if/else, for, +, -,
            &amp;&amp;, || are almost identical to C. However, JavaScript is
            an untyped language that will automatically convert data from one
            type to another as expressions and statements require. This makes
            it much more like Perl than a strongly typed language. JavaScript
            also has objects and methods and resembles Java and C++ in this
            regard and it supports associative arrays like Pearl or TCL.
            Thus, JavaScript is a nice blend of some of the best features of
            C, C++, Java and Perl.<br />
            <br />
            JavaScript is best when it is used for scripting. It was not
            designed for large-scale application development. For that
            purpose, strongly typed languages are a better choice.<br />
            <br />
            This JavaScript documentation includes sections on:<br />

            <ul>
              <li><a href="syntax.html">Language Syntax</a></li>

              <li><a href="objects.html">Objects and Arrays</a></li>

              <li><a href="expressions.html">Expressions and
              Operators</a></li>

              <li><a href="statements.html">JavaScript Statements</a></li>

              <li><a href="standard.html">Standard Globals</a></li>

              <li><a href="extending.html">Extending JavaScript</a></li>
            </ul>For more information about JavaScript, we recommend the
            excellent book on JavaScript by David Flanagan, JavaScript the
            Definitive Guide by O'Reilly, ISBN: 0-596-00048-0, 2002.<br />
            <a name="quickExample" id="quickExample"></a><br />

            <h2><a href="#top"><img alt="up" src=
            "../../../../images/upArrow.gif" class="nav c2" /></a>JavaScript
            Quick Example</h2>So what does JavaScript actually look like? The
            following code fragment demonstrates the syntax and some of the
            features of JavaScript:<br />
            <br />
            <pre>
/*<br />
 *  Can use either C or C++ style comments<br />
 */<br />
function justForDemo(start, end)       // Arguments do not have types<br />
{<br />
    var i, j;                          // Declare variables with var<br />
    var objects = new Array(10);       // Create an array with ten elements<br />
    for (i = start; i &lt; 10; i++) {     // Classic for loop<br />
        objects[i] = new Object();     // Store a new object<br />
    }<br />
<br />
    for (o in objects) {               // Iterate over all the objects<br />
        // Can do something here to each object<br />
    }<br />
    return "Hello World";<br />
}<br />
justForDemo(0, 10);                    // Invoke the function<br />
</pre><a name="overview" id="overview"></a><br />

            <h2><a href="#top"><img src="../../../../images/upArrow.gif" alt=
            "up" class="nav c2" height="16" width="16" /></a>Embedded
            JavaScript Overview<br /></h2>Embedded JavaScript (EJS) was
            created as a subset of ECMAScript as specified in the ECMA-262
            specification. The ECMA specification defines a complete and
            extensive language of which Embedded Javascript implements a well
            defined subset focussed on the needs of the embedded
            market.<br />
            <br />
            The complete ECMA-262 specification has many features that are
            not essential for embedded use and the resultant memory footprint
            for the complete spec (typically &gt; 500K) is too large for many
            embedded applications. Embedded JavaScript in contrast, requires
            approximately ~50K of code and 20K of RAM to execute depending on
            the size of the program.<br />

            <h3>Design Goals</h3>The design goals for EJS were, to develop a
            useful and powerful subset of the JavaScript language, while
            minimizing the system resources required in which to execute.
            Redundant language features were eliminated and unnecessary
            features were ommitted. An architecture and implementation was
            then chosen for EJS to prioritize small memory size above fast
            execution speed. For example: a recursive descent parser was
            selected over a table driven parser as it requires considerably
            less memory.<br />

            <h3><span class="c3">Recursive Descent Parser</span></h3>Embedded
            JavaScript uses a compact, recursive descent parser. This is a
            one-pass, parse and execute interpreter. Compared to two-pass
            interpreters that create in-memory representations of the script
            to execute, the one-pass, recursive descent parser has greatly
            reduced memory requirements. It is somewhat slower than two-pass
            interpreters that use Just-in-time compilation
            technologies.<br />

            <h3>Multiple Instances</h3>EJS supports multiple independent
            instances at run-time. Embedded Server Pages uses this feature to
            allow multiple HTTP requests to execute concurrently.<br />

            <h3>Garbage Collection</h3>Unlike C and C++ where objects are
            explicitly destroyed, JavaScript uses an automatic mechanism
            called Garbage Collectionto reclaim unused memory when objects
            are no longer used.<br />
            <br />
            Because Embedded JavaScript may be used in embedded real-time
            systems, determinism in the garbage collection was an important
            design goal. However, the traditional JavaScript mark and sweep
            algorithms exhibit decidedly non-deterministic behavior.
            Consequently, a modified reference counting approach was chosen.
            This approach is very efficient and uses little CPU or memory to
            implement, but it can be temporarily miss reclaiming objects that
            have cyclical references. This is normally not a problem when
            implemented in systems like Embedded Server Pages that use
            smaller scripts that run for short durations.<br />

            <h3>Data Types</h3>Embedded JavaScript borrows from some of the
            proposed JavaScript 2.0 features to provide a rich suite of
            types. 32-bit and 64-bit integers are provided along with
            floating point, boolean and string primitive types. EJS can also
            be configured when building from source code to select the
            default numeric type.<br />

            <h3>Extensible</h3>The Embedded JavaScript capabilities may be
            extended by publishing new JavaScript functions. JavaScript
            functions may be created via the ESP C API. See the <a href=
            "../../programmers/esp.html">Programmers Reference</a> for more
            details.<br />

            <h3>Quick Language Overview</h3>Embedded JavaScript implements
            the following standard JavaScript elements:

            <ul>
              <li>Case sensitivity, white space, optional semicolons, C and
              C++ style comments</li>

              <li>Identifiers</li>

              <li>Data types including numbers, booleans, strings with quoted
              backslash characters</li>

              <li>Expressions / operators (&lt; &lt;= == != &gt; &gt;= + - /
              % &lt;&lt; &gt;&gt; ++ -- &amp;&amp; || !)<br /></li>

              <li>If/else statement<br /></li>

              <li>for and for/in</li>

              <li>Functions and return statement<br /></li>

              <li>Objects and new statement</li>

              <li>Arrays and associative arrays<br /></li>
            </ul>

            <p>The following language elements are not implemented:</p>

            <ul>
              <li>Exceptions including try, catch and throw<br /></li>

              <li>Labeled statements including: break, continue<br /></li>

              <li>Control flow statements including: switch, while, do,
              export, import, with</li>

              <li>Regular expressions</li>

              <li>The operators === !== &lt;&lt;&lt; &gt;&gt;&gt;<br /></li>

              <li>The prefix ++ and -- operators</li>

              <li>Function, array and object literals</li>

              <li>Standard object methods: toLocaleString, hasOwnProperty,
              propertyIsEnumerable, isPrototypeOf,<br /></li>

              <li>Standard array methods: length, join, sort, reverse, slice,
              splice, push, pop, unshift, shift, toLocaleString</li>

              <li>Number and Date classes</li>

              <li>Object class prototypes and class methods</li>
            </ul>Other differences in Embedded JavaScript from the ECMAScript
            standard are listed below. All these differences were deliberate
            design decisions made in support of the design goals.<br />

            <ul>
              <li>Strings are stored in ASCII not UNICODE.</li>

              <li>Number types are integers by default instead of floating
              point. This is changable as a build time configuration
              option.</li>
            </ul>
          </div>
        </td>

        <td class="contentSep"><br /></td>

        <td class="contentSideBar">
          <div class="linkSection">
            <h2>Quick Nav</h2><a href="#quickExample">Quick Example</a><br />
            <a href="#overview">Embedded JavaScript Overview</a><br />

            <h2>See Also</h2><a href="syntax.html">Language Syntax</a><br />
            <a href="objects.html">Objects and Arrays</a><br />
            <a href="expressions.html">Expressions and Operators</a><br />
            <a href="statements.html">JavaScript Statements</a><br />
            <a href="standard.html">Standard Globals</a><br />
            <a href="extending.html">Extending JavaScript</a><br />
          </div>
        </td>
      </tr>
    </tbody>
  </table>

<!-- BeginDsi "dsi/terms.html" -->
<p class="terms"> 
	<a href="../../../../product/copyright.html"
		>&copy; Embedthis Software LLC, 2003-2009. All 
		rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
</p>
<!-- EndDsi -->

</body>
</html>
