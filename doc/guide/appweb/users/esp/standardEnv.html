<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Embedthis Appweb -- The Embedded Server Pages Standard
  Environment</title>

<!-- BeginDsi "dsi/meta.html" -->
	<meta name="keywords" content="embedded web server, web server software, 
		embedded HTTP, application web server, embedded server,
		small web server, HTTP server, library web server, library HTTP,
		HTTP library" />
	<meta name="description" content="Embedthis Sofware provides 
		open source embedded web servers for devices and applications." />
	<meta name="robots" content="index,follow" />
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/js.html" -->
	<script language="JavaScript" type="text/javascript">
		document._ROOT_="../../../../";
	</script>
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/style.html" -->
	<link rel="stylesheet" type="text/css" href="../../../../css/doc.css">
<!-- EndDsi -->

<style type="text/css">
/*<![CDATA[*/
 td.c11 {vertical-align: top; background-color: rgb(238, 238, 238); font-weight: bold;}
 td.c10 {vertical-align: top; font-weight: bold; background-color: rgb(238, 238, 238); width: 25%;}
 td.c9 {vertical-align: top; font-weight: bold; background-color: rgb(238, 238, 238); width: 12%;}
 table.c8 {text-align: left; width: 100%;}
 td.c7 {vertical-align: top;}
 td.c6 {vertical-align: top; width: 20%;}
 td.c5 {vertical-align: top; font-weight: bold;}
 td.c4 {vertical-align: top; font-weight: bold; width: 20%;}
 img.c3 {border: 0px solid ; width: 16px; height: 16px;}
 img.c2 {border: 0px solid ; width: 19px; height: 14px;}
 span.c1 {font-weight: bold; color: rgb(255, 255, 255);}
/*]]>*/
</style>
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0">
  

<!-- BeginDsi "dsi/navTop.html" -->
	<div class="background">
		<table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td>
					<a name="top"></a>
					<img src="../../../../images/backLeft.png" width="400" 
						height="93" border="0" ismap usemap="#home" /><br />
					<map name="home">
						<area coords="0,0,93,93" 
						href="http://www.mbedthis.com/index.html" />
					</map>
				</td>
				<td width="100%">
					<img src="../../../../images/backMiddle.png" width="100%" 
						height="93" border="0" /><br />
				</td>
				<td>
					<img src="../../../../images/backRight.png" width="354" 
						height="93" border="0" /><br />
				</td>
			</tr>
		</table>
	</div>

	<div class="navTop"> 
		<table cellpadding="0" cellspacing="0" border="0" align="top">
			<tr>
				<td valign="bottom"> 
					<a href="http://www.mbedthis.com/" class="navTop"
					>Embedthis Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../../product/index.html" class="navTop"
					>Documentation Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../../guide/appweb/users/admin/overview.html" class="navTop"
					>Administration</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../../api/gen/appweb/overview.html" class="navTop"
					>Programmers Reference</a>
				</td>
				<td valign="bottom"> 
<!--
					<form class="smallText" action="../../../../search.php" 
						method="post" name="searchForm" id="searchForm">
					</form>
					&nbsp; 
					<input class="smallText" type="text" name="search" 
						align="right" id="searchInput" size="15" maxlength="50"
						value="Sorry, No Searching" />
-->
				</td>
			</tr>
		</table>
	</div>

<!-- EndDsi -->

  <div class="navHistory">
    

<!-- BeginDsi "dsi/navHistory.html" -->
	<a href="../../../../product/index.html">Documentation Home</a> &gt; 
<!-- EndDsi -->

     <a href="../overview.html">User Guide</a> &gt; <a href=
    "overview.html">Embedded Server Pages</a> &gt; <span class="c1">ESP
    Standard Environment</span>
  </div>

  <table class="contentTable" border="0" height="100%">
    <tbody>
      <tr>
        <td class="content">
          <div class="guideHeader">
            <h1><a href="overview.html"><img alt="back" src=
            "../../../../images/leftArrow.gif" class="nav c2" /></a> The ESP
            Standard Environment<br /></h1>
          </div>

          <div class="guideSection">
            Each HTTP request to an ESP web page causes a standard
            environment to be created that represents the state of the
            request, the server, form data, uploaded files and any client
            session state. ESP automatically creates this environment so that
            many web tasks can be accomplished without programming.<br />
            <br />
            The ESP Standard Environment pre-defines a set of request global
            variables and functions. These are variables are private to the
            request, but global in scope so that all functions and classes
            can access their data within an ESP page without any C or C++
            required coding.<br />
            <br />
            See the Embedded Server Pages <a href=
            "../../../../api/gen/appweb/javascript-api.html">JavaScript API
            Reference</a> for full ESP / EJS API documentation.<br />
            <a name="variables" id="variables"></a>

            <h2><a href="#top"><img alt="up" src=
            "../../../../images/upArrow.gif" class="nav c3" /></a>JavaScript
            Variables</h2>The ESP run-time defines the following JavaScript
            variables for use inside an ESP page.<br />
            <br />

            <table class="c8 contentTable" border="1" cellpadding="2"
            cellspacing="0">
              <tbody>
                <tr>
                  <td class="c4" bgcolor="#EEEEEE">Variable Name<br /></td>

                  <td class="c5" bgcolor="#EEEEEE">Description<br /></td>
                </tr>

                <tr>
                  <td class="c6">application []<br /></td>

                  <td class="c7">Stores user defined application data and is
                  shared across all requests<br /></td>
                </tr>

                <tr>
                  <td class="c6">cookies []</td>

                  <td class="c7">Request cookies supplied by the client with
                  the request<br /></td>
                </tr>

                <tr>
                  <td class="c6">false<br /></td>

                  <td class="c7">False boolean value<br /></td>
                </tr>

                <tr>
                  <td class="c6">files []<br /></td>

                  <td class="c7">Uploaded files supplied by the client with
                  the request<br /></td>
                </tr>

                <tr>
                  <td class="c6">form []<br /></td>

                  <td class="c7">Client form data. Includes both query string
                  and posted data</td>
                </tr>

                <tr>
                  <td class="c6">global<br /></td>

                  <td class="c7">Global variables for this request<br /></td>
                </tr>

                <tr>
                  <td class="c6">headers []<br /></td>

                  <td class="c7">HTTP request headers<br /></td>
                </tr>

                <tr>
                  <td class="c6">Infinity<br /></td>

                  <td class="c7">Floating point number set to
                  Infinity<br /></td>
                </tr>

                <tr>
                  <td class="c6">local<br /></td>

                  <td class="c7">Local variables for the outermost JavaScript
                  block in the ESP web page</td>
                </tr>

                <tr>
                  <td class="c6">Nan<br /></td>

                  <td class="c7">Floating point number set to "Not a
                  Number"<br /></td>
                </tr>

                <tr>
                  <td class="c6">null<br /></td>

                  <td class="c7">Defined variable set to Null<br /></td>
                </tr>

                <tr>
                  <td class="c6">request []<br /></td>

                  <td class="c7">Request details<br /></td>
                </tr>

                <tr>
                  <td class="c6">server []<br /></td>

                  <td class="c7">Server details<br /></td>
                </tr>

                <tr>
                  <td class="c6">session []<br /></td>

                  <td class="c7">Session state data for the current client.
                  May be shared across multiple requests for a given
                  client<br /></td>
                </tr>

                <tr>
                  <td class="c6">true<br /></td>

                  <td class="c7">True boolean value<br /></td>
                </tr>

                <tr>
                  <td class="c6">undefined<br /></td>

                  <td class="c7">Variable has no value and is set to the
                  Undefined Value<br /></td>
                </tr>
              </tbody>
            </table><br />
            <a name="functions" id="functions"></a>

            <h2><a href="#top"><img alt="up" src=
            "../../../../images/upArrow.gif" class="nav c3" /></a>JavaScript
            Functions</h2>ESP defines the following global functions for use
            inside an ESP page.<br />
            <br />

            <table class="c8 contentTable" border="1" cellpadding="2"
            cellspacing="0">
              <tbody>
                <tr>
                  <td class="c9">Script Name<br /></td>

                  <td class="c10">Syntax<br /></td>

                  <td class="c11" width="27%">Examples<br /></td>

                  <td class="c5" bgcolor="#EEEEEE">Description<br /></td>
                </tr>

                <tr>
                  <td class="c7">Array<br /></td>

                  <td class="c7">Array(elt1, elt2, ...)<br />
                  Array(size)<br /></td>

                  <td class="c7">var o = new Array("item 1", "item 2");<br />
                  var o = new Array(256);<br /></td>

                  <td class="c7">Create an array and insert elements. The
                  second form creates an array with elements named "0", "1",
                  "2", and so forth up to the nominated size.</td>
                </tr>

                <tr>
                  <td class="c7">assert<br /></td>

                  <td class="c7">assert(condition)<br /></td>

                  <td class="c7"><br /></td>

                  <td class="c7"><br /></td>
                </tr>

                <tr>
                  <td class="c7">createSession<br /></td>

                  <td class="c7">createSession(timeout);</td>

                  <td class="c7">createSession(1800);<br /></td>

                  <td class="c7">Create session state for this client. No
                  effect if a session has aleady been created. This creates a
                  session cookie that is sent to the client in the response.
                  The timeout is in seconds.<br /></td>
                </tr>

                <tr>
                  <td class="c7">destroySession<br /></td>

                  <td class="c7">destroySession()<br /></td>

                  <td class="c7">destroy(Session);<br /></td>

                  <td class="c7">Terminate the current session.<br /></td>
                </tr>

                <tr>
                  <td class="c7">eval<br /></td>

                  <td class="c7">eval(script);<br /></td>

                  <td class="c7">eval("var " + x + " = " + string);</td>

                  <td class="c7">Evaluate the given script.<br /></td>
                </tr>

                <tr>
                  <td class="c7">exit<br /></td>

                  <td class="c7">exit(status)<br /></td>

                  <td class="c7">exit(0);<br /></td>

                  <td class="c7">Immediately terminate the current script or
                  ESP.<br /></td>
                </tr>

                <tr>
                  <td class="c7">include<br /></td>

                  <td class="c7">include(filename);<br /></td>

                  <td class="c7">include("myLib.js");<br /></td>

                  <td class="c7">Server side inclusion of a JavaScript
                  library. The nominated file is read and parsed inline when
                  the page is compiled by Appweb.<br /></td>
                </tr>

                <tr>
                  <td class="c7">Object<br /></td>

                  <td class="c7">Object();<br /></td>

                  <td class="c7">var o = new Object();<br /></td>

                  <td class="c7">Create a new object.<br /></td>
                </tr>

                <tr>
                  <td class="c7">print<br /></td>

                  <td class="c7">print(string, ...);<br /></td>

                  <td class="c7">print("Hello World\n");</td>

                  <td class="c7">Print the given strings to the web server
                  standard output.</td>
                </tr>

                <tr>
                  <td class="c7">println<br /></td>

                  <td class="c7">print(string, ...);<br /></td>

                  <td class="c7">print("Hello World");</td>

                  <td class="c7">Print the given strings to the web server
                  standard output followed by a new line.</td>
                </tr>

                <tr>
                  <td class="c7">printVars<br /></td>

                  <td class="c7">print(v, ...);<br /></td>

                  <td class="c7">print(obj1, obj2, obj3);<br /></td>

                  <td class="c7">Print the string representation of the given
                  objects to the web server standard output. Objects are
                  expanded and all properties are printed. Great for
                  debugging.<br /></td>
                </tr>

                <tr>
                  <td class="c7">redirect<br /></td>

                  <td class="c7">redirect(url, [code]);<br /></td>

                  <td class="c7">redirect("notFound.html", 302);<br />
                  redirect("pageTwo.esp");<br />
                  <br /></td>

                  <td class="c7">Redirect the client's browser to a new
                  page.<br /></td>
                </tr>

                <tr>
                  <td class="c7">refCount<br /></td>

                  <td class="c7">refCount(o);<br /></td>

                  <td class="c7">var count = refCount(obj);<br /></td>

                  <td class="c7">Return the number of references to this
                  object.<br /></td>
                </tr>

                <tr>
                  <td class="c7">setHeader<br /></td>

                  <td class="c7">setHeader("myHeader: true");<br /></td>

                  <td class="c7"><br /></td>

                  <td class="c7">Set a HTTP header in the ESP response to the
                  client.<br /></td>
                </tr>

                <tr>
                  <td class="c7">trace<br /></td>

                  <td class="c7">trace(message);<br />
                  trace(level, message);<br /></td>

                  <td class="c7">trace(2, "Message at level 2");<br /></td>

                  <td class="c7">Write a message to the Appweb
                  log.<br /></td>
                </tr>

                <tr>
                  <td class="c7">useSession<br /></td>

                  <td class="c7">useSession(timeout);<br /></td>

                  <td class="c7">useSession(1800);<br /></td>

                  <td class="c7">This is an alias for
                  createSession.<br /></td>
                </tr>

                <tr>
                  <td class="c7">write<br /></td>

                  <td class="c7">write(args, ...);<br /></td>

                  <td class="c7">write("Hello World");<br />
                  write("&lt;h1&gt;Today is ", date);</td>

                  <td class="c7">Write the given arguments back to the client
                  (browser) in the place of the ESP script. Multiple calls to
                  write and its derivatives may be used.</td>
                </tr>
              </tbody>
            </table><br />
            <br />
          </div>
        </td>

        <td class="contentSep"><br /></td>

        <td class="contentSideBar">
          <div class="linkSection">
            <h2>Quick Nav<br /></h2><a href="#variables">JavaScript
            Variables</a><br />
            <a href="#functions">JavaScript Functions</a><br />

            <h2>See Also</h2><a href="overview.html">ESP Overview</a><br />
            <a href="howItWorks.html">How ESP Works</a><br />
            <a href="createDynamic.html">Creating Dynamic Web Pages</a><br />
            <a href="createForms.html">Creating Forms</a><br />
            <a href="sessions.html">Session State</a><br />
            <a href="fileUpload.html">File Upload</a><br />
            <a href="../../programmers/esp.html">ESP Reference</a>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

<!-- BeginDsi "dsi/terms.html" -->
<p class="terms"> 
	<a href="../../../../product/copyright.html"
		>&copy; Embedthis Software LLC, 2003-2009. All 
		rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
</p>
<!-- EndDsi -->

</body>
</html>
