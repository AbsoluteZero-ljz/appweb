<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Embedthis AppWeb Performance Directives</title>
  

<!-- BeginDsi "dsi/meta.html" -->
	<meta name="keywords" content="embedded web server, web server software, 
		embedded HTTP, application web server, embedded server,
		small web server, HTTP server, library web server, library HTTP,
		HTTP library" />
	<meta name="description" content="Embedthis Sofware provides 
		open source embedded web servers for devices and applications." />
	<meta name="robots" content="index,follow" />
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/js.html" -->
	<script language="JavaScript" type="text/javascript">
		document._ROOT_="../../../";
	</script>
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/style.html" -->
	<link rel="stylesheet" type="text/css" href="../../../css/doc.css">
<!-- EndDsi -->

<style type="text/css">
/*<![CDATA[*/
 table.c4 {width: 100%; text-align: left;}
 span.c3 {font-weight: bold;}
 td.c2 {vertical-align: top;}
 td.c1 {vertical-align: top; font-weight: bold;}
/*]]>*/
</style>
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0">
  

<!-- BeginDsi "dsi/navTop.html" -->
	<div class="background">
		<table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td>
					<a name="top"></a>
					<img src="../../../images/backLeft.png" width="400" 
						height="93" border="0" ismap usemap="#home" /><br />
					<map name="home">
						<area coords="0,0,93,93" 
						href="http://www.mbedthis.com/index.html" />
					</map>
				</td>
				<td width="100%">
					<img src="../../../images/backMiddle.png" width="100%" 
						height="93" border="0" /><br />
				</td>
				<td>
					<img src="../../../images/backRight.png" width="354" 
						height="93" border="0" /><br />
				</td>
			</tr>
		</table>
	</div>

	<div class="navTop"> 
		<table cellpadding="0" cellspacing="0" border="0" align="top">
			<tr>
				<td valign="bottom"> 
					<a href="http://www.mbedthis.com/" class="navTop"
					>Embedthis Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../product/index.html" class="navTop"
					>Documentation Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../guide/appweb/users/admin/overview.html" class="navTop"
					>Administration</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../api/gen/appweb/overview.html" class="navTop"
					>Programmers Reference</a>
				</td>
				<td valign="bottom"> 
<!--
					<form class="smallText" action="../../../search.php" 
						method="post" name="searchForm" id="searchForm">
					</form>
					&nbsp; 
					<input class="smallText" type="text" name="search" 
						align="right" id="searchInput" size="15" maxlength="50"
						value="Sorry, No Searching" />
-->
				</td>
			</tr>
		</table>
	</div>

<!-- EndDsi -->

  <div class="navHistory">
    

<!-- BeginDsi "dsi/navHistory.html" -->
	<a href="../../../product/index.html">Documentation Home</a> &gt; 
<!-- EndDsi -->

     <a href="../overview.html">User Reference</a> &gt; <a href=
    "../directives.html">Configuration Directives</a> &gt; Performance
    Directives
  </div>

  <table class="contentTable" border="0" height="100%">
    <tbody>
      <tr>
        <td class="content" width="75%">
          <div class="guideHeader">
            <h1><a href="../directives.html"><img src=
            "../../../images/leftArrow.gif" class="nav" height="14" width=
            "19" /></a> Performance Directives</h1>See also the <a href=
            "sandbox.html">Sandbox</a> directives for other performance
            related directives.
          </div>

          <div class="guideSection">
            <h2><a name="keepAlive" id="keepAlive"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a>KeepAlive</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Enable HTTP Keep-Alive to serve multiple
                  requests within a single TCP/IP connection</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">KeepAlive [on | off]</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">KeepAlive on</td>
                </tr>
              </tbody>
            </table>The KeepAlive directive enables the HTTP Keep-Alive
            facility where a single TCP/IP connection may be reused for
            multiple requests. They can significantly speed up overall
            performance particularly over longer connections where the TCP/IP
            connection setup time is long.<br />
            <br />
            Keep-Alive is supported by AppWeb with both HTTP/1.0 and HTTP/1.1
            protocols. With HTTP/1.1, Keep-Alive is the default. With
            HTTP/1.0, clients may optionally request Keep-Alive.<br />
            <br />
            Connections can only be reused if the length of the content
            returned to the client is know ahead in advance to that a
            Content-Length header can be correctly formatted. This means that
            very large CGI, ESP or EGI output may cause a TCP/IP connection
            to be closed and the effectiveness of Keep-Alive to be
            limited.<br />

            <h2><a name="keepAliveTimeout" id="keepAliveTimeout"></a>
            <a href="#top"><img src="../../../images/upArrow.gif" class="nav"
            height="16" width="16" /></a> KeepAliveTimeout</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Set the time period to hold a TCP/IP
                  connection open for further requests when using
                  Keep-Alive.</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">KeepAliveTimeout seconds</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">KeepAliveTimeout 120</td>
                </tr>
              </tbody>
            </table>The KeepAliveTimeout directive defines the time period to
            keep connections open waiting for further requests from a given
            client. If further requests arrive, the timeout period is
            restarted.<br />
            <br />
            Setting the timeout period too high may impact performance on
            high-traffic servers because of the large number of open TCP/IP
            connections.

            <h2><a name="maxKeepAliveRequests" id="maxKeepAliveRequests"></a>
            <a href="#top"><img src="../../../images/upArrow.gif" class="nav"
            height="16" width="16" /></a> MaxKeepAliveRequests</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Define the maximum number of requests for a
                  connection.</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">MaxKeepAliveRequests number</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">MaxKeepAliveRequests 50</td>
                </tr>
              </tbody>
            </table>The MaxKeepAliveRequests directive defines the maximum
            number of requests that may possibly be services using a single
            TCP/IP connect. Limiting the number to a reasonable maximum can
            help reduce the impact of some denial of service attacks.<br />

            <h2><a name="sendBufferSize" id="sendBufferSize"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a> SendBufferSize</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Set the TCP/IP buffer size.</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">SendBufferSize limit</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">SendBufferSize 8192</td>
                </tr>
              </tbody>
            </table>The SendBufferSize directive sets the TCP/IP buffer size.
            Increasing the SendBufferSize can improve throughput and lower
            CPU usage. You should only need to do this if you have very high
            data rates.<br />
            <br />
            The <span class="c3">limit</span> may be set to 0 to use the O/S
            default value.<br />

            <h2><a name="sessionTimeout" id="sessionTimeout"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a> SessionTimeout</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Set an inactivity time period before
                  disposing of a session data store<br /></td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">SessionTimeout seconds<br /></td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, VirtualHost</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">SessionTimeout 1800<br /></td>
                </tr>
              </tbody>
            </table>The SessionTimeout directive defines the number of
            seconds of inactivity to wait before disposing a session data
            store. Embedded Server Pages (ESP) will create session data
            stores to store user's state data. If the user abandons their
            session, the session will be cleaned up when this timeout
            expires. It is good practice for ESP pages to explicitly dispose
            of sessions when a user completes a transaction or logs
            off.<br />
            <br />

            <h2><a name="timeout" id="timeout"></a> <a href="#top"><img src=
            "../../../images/upArrow.gif" class="nav" height="16" width=
            "16" /></a> Timeout</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Set the time period to wait before
                  cancelling the request</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">Timeout seconds</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">Timeout 600</td>
                </tr>
              </tbody>
            </table>The Timeout directive defines the number of seconds of
            I/O inactivity to wait before cancelling a client request. This
            timeout is necessary to cleanup idle connections.<br />
            <br />
            Some web user interfaces with monitoring applets open HTTP
            connections and keep them open to stream response data back to
            the applet. To prevent AppWeb from closing the connection, you
            may need to either increase the timeout value, or you may need to
            do some I/O to the applet to ensure it does not get closed.<br />
            <br />
          </div>
        </td>

        <td class="contentSep">&nbsp;</td>

        <td class="contentRight">
          <div class="linkSection">
            <h2>Quick Nav</h2><a href="#keepAlive">KeepAlive</a><br />
            <a href="#keepAliveTimeout">KeepAliveTimeout</a><br />
            <a href="#maxKeepAliveRequests">MaxKeepAliveRequests</a><br />
            <a href="#sendBufferSize">SendBufferSize</a><br />
            <a href="#sessionTimeout">SessionTimeout</a><br />
            <a href="#timeout">Timeout</a><br />
            <br />

            <h2>See Also</h2><a href="sandbox.html">Sandbox
            Directives</a><a href=
            "../../../guide/appweb/users/configuration.html"><br />
            Configuration<br /></a> <a href=
            "../directives.html">Configuration Directives</a><br />
          </div>
        </td>
      </tr>
    </tbody>
  </table>

<!-- BeginDsi "dsi/terms.html" -->
<p class="terms"> 
	<a href="../../../product/copyright.html"
		>&copy; Embedthis Software LLC, 2003-2009. All 
		rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
</p>
<!-- EndDsi -->

</body>
</html>
