<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Embedthis AppWeb Logging Directives</title>
  

<!-- BeginDsi "dsi/meta.html" -->
	<meta name="keywords" content="embedded web server, web server software, 
		embedded HTTP, application web server, embedded server,
		small web server, HTTP server, library web server, library HTTP,
		HTTP library" />
	<meta name="description" content="Embedthis Sofware provides 
		open source embedded web servers for devices and applications." />
	<meta name="robots" content="index,follow" />
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/js.html" -->
	<script language="JavaScript" type="text/javascript">
		document._ROOT_="../../../";
	</script>
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/style.html" -->
	<link rel="stylesheet" type="text/css" href="../../../css/doc.css">
<!-- EndDsi -->

<style type="text/css">
/*<![CDATA[*/
 span.c5 {font-weight: normal;}
 table.c4 {width: 100%; text-align: left;}
 span.c3 {font-weight: bold;}
 td.c2 {vertical-align: top;}
 td.c1 {vertical-align: top; font-weight: bold;}
/*]]>*/
</style>
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0">
  

<!-- BeginDsi "dsi/navTop.html" -->
	<div class="background">
		<table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td>
					<a name="top"></a>
					<img src="../../../images/backLeft.png" width="400" 
						height="93" border="0" ismap usemap="#home" /><br />
					<map name="home">
						<area coords="0,0,93,93" 
						href="http://www.mbedthis.com/index.html" />
					</map>
				</td>
				<td width="100%">
					<img src="../../../images/backMiddle.png" width="100%" 
						height="93" border="0" /><br />
				</td>
				<td>
					<img src="../../../images/backRight.png" width="354" 
						height="93" border="0" /><br />
				</td>
			</tr>
		</table>
	</div>

	<div class="navTop"> 
		<table cellpadding="0" cellspacing="0" border="0" align="top">
			<tr>
				<td valign="bottom"> 
					<a href="http://www.mbedthis.com/" class="navTop"
					>Embedthis Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../product/index.html" class="navTop"
					>Documentation Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../guide/appweb/users/admin/overview.html" class="navTop"
					>Administration</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../api/gen/appweb/overview.html" class="navTop"
					>Programmers Reference</a>
				</td>
				<td valign="bottom"> 
<!--
					<form class="smallText" action="../../../search.php" 
						method="post" name="searchForm" id="searchForm">
					</form>
					&nbsp; 
					<input class="smallText" type="text" name="search" 
						align="right" id="searchInput" size="15" maxlength="50"
						value="Sorry, No Searching" />
-->
				</td>
			</tr>
		</table>
	</div>

<!-- EndDsi -->

  <div class="navHistory">
    

<!-- BeginDsi "dsi/navHistory.html" -->
	<a href="../../../product/index.html">Documentation Home</a> &gt; 
<!-- EndDsi -->

     <a href="../overview.html">User Reference</a> &gt; <a href=
    "../directives.html">Configuration Directives</a> &gt; Logging Directives
  </div>

  <table class="contentTable" border="0" height="100%">
    <tbody>
      <tr>
        <td class="content" width="75%">
          <div class="guideHeader">
            <h1><a href="../directives.html"><img src=
            "../../../images/leftArrow.gif" class="nav" height="14" width=
            "19" /></a> Logging Directives</h1>
          </div>

          <div class="guideSection">
            <h2><a name="customLog" id="customLog"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a>CustomLog</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Define the location of the access log and
                  its format.</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">CustomLog path format</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">CustomLog access.log "%h %l %u %t \"%r\"
                  %&gt;s %b"</td>
                </tr>
              </tbody>
            </table>The CustomLog directive configures an access log that
            AppWeb uses to log all successful HTTP requests. The <span class=
            "c3">path</span> may be an absolute filename or it may be
            relative to the ServerRoot.<br />
            <br />
            The <span class="c3">f</span><span class="c3">ormat</span> string
            argument defines how AppWeb will record HTTP accesses to the
            access log. The following log format specifiers are
            supported:<br />
            <br />

            <table cellpadding="2" cellspacing="2" border="1" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c2" bgcolor="#EEEEEE"><span class="c3">Format
                  Specifier</span><br /></td>

                  <td class="c2" bgcolor="#EEEEEE"><span class=
                  "c3">Description</span><br /></td>
                </tr>

                <tr>
                  <td class="c2">%%<br /></td>

                  <td class="c2">Percent sign<br /></td>
                </tr>

                <tr>
                  <td class="c2">%a<br /></td>

                  <td class="c2">Remove IP address<br /></td>
                </tr>

                <tr>
                  <td class="c2">%b<br /></td>

                  <td class="c2">Bytes written back to the browser including
                  HTTP headers. If zero bytes, a '-' is written.<br /></td>
                </tr>

                <tr>
                  <td class="c2">%B<br /></td>

                  <td class="c2">Bytes written excluding HTTP
                  headers.<br /></td>
                </tr>

                <tr>
                  <td class="c2">%h<br /></td>

                  <td class="c2">Remote host<br /></td>
                </tr>

                <tr>
                  <td class="c2">%l<br /></td>

                  <td class="c2">Remote log name if supplied<br /></td>
                </tr>

                <tr>
                  <td class="c2">%O<br /></td>

                  <td class="c2">Bytes written including headers. If zero
                  bytes, '0' is written.<br /></td>
                </tr>

                <tr>
                  <td class="c2">%r<br /></td>

                  <td class="c2">First line of the request<br /></td>
                </tr>

                <tr>
                  <td class="c2">%s<br /></td>

                  <td class="c2">Request HTTP status code.</td>
                </tr>

                <tr>
                  <td class="c2">%t<br /></td>

                  <td class="c2">Time<br /></td>
                </tr>

                <tr>
                  <td class="c2">%u<br /></td>

                  <td class="c2">Remote user name<br /></td>
                </tr>

                <tr>
                  <td class="c2">%{header}i<br /></td>

                  <td class="c2">Content of request header called
                  "header"<br /></td>
                </tr>

                <tr>
                  <td class="c2">%&gt;s<br /></td>

                  <td class="c2">Response code. Same as %s.<br /></td>
                </tr>
              </tbody>
            </table><br />

            <h2><a name="errorLog" id="errorLog"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a> ErrorLog</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Defines the path and format of the AppWeb
                  error and trace log</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">ErrorLog logSpec</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">ErrorLog error.log</td>
                </tr>
              </tbody>
            </table>The ErrorLog directive defines the path to the AppWeb
            error log and controls what is written to the log. A general
            overview of using log files is discussed in the Adminstration
            section on <a href=
            "../../../guide/appweb/users/admin/logFiles.html">Log
            Files</a>.<br />
            <br />
            The <span class="c3">logSpec</span> argument has the following
            format:<br />
            <br />
            <pre>
pathName[:level][[,moduleName[:level]]...][.maxSize]<br />
</pre>

            <p><span class="c5">The <span class="c3">pathName</span> is an
            absolute or ServerRoot relative path. The <span class=
            "c3">level</span> argument defines a logging verbosity level
            between 0 and 9 with 9 being the most verbose.<br /></span></p>

            <p><span class="c5">The following levels are generally
            observed:<br /></span></p>

            <table cellpadding="2" cellspacing="2" border="1" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c2" bgcolor="#EEEEEE">Level<br /></td>

                  <td class="c2" bgcolor="#EEEEEE">Usage<br /></td>
                </tr>

                <tr>
                  <td class="c2">0<br /></td>

                  <td class="c2">Essential messages, fatal errors and
                  critical warnings<br /></td>
                </tr>

                <tr>
                  <td class="c2">1<br /></td>

                  <td class="c2">Hard errors<br /></td>
                </tr>

                <tr>
                  <td class="c2">2</td>

                  <td class="c2">Configuration setup and soft warnings</td>
                </tr>

                <tr>
                  <td class="c2">3<br /></td>

                  <td class="c2">Useful informational messages<br /></td>
                </tr>

                <tr>
                  <td class="c2">4<br /></td>

                  <td class="c2">Debug information<br /></td>
                </tr>

                <tr>
                  <td class="c2">5-9</td>

                  <td class="c2">Increasing levels of internal AppWeb trace
                  useful for debugging<br /></td>
                </tr>
              </tbody>
            </table>

            <p><span class="c5"><span class="c3">ModuleNames</span> are
            internal AppWeb names given to various functional modules. For
            example: "esp" is the name given to error information from the
            Embedded Server Pages handler.<br /></span></p>

            <p><span class="c5">The <span class="c3">maxSize</span> argument
            defines how large the log may grow in MB before it is rotated.
            When rotated, the old log will be renamed with ".old" appended to
            the <span class="c3">pathName</span>. The default size is 5
            MB.<br /></span></p>

            <p><span class="c5">If the LogLevel directive is used, it will
            override the level specified via the ErrorLog directive for
            general logging. Per-module levels will not be
            affected.<br /></span></p>

            <h3><span class="c3">Examples</span></h3><br />
            To log trace at the level specified by the LogLevel directive to
            the file named error.log:<br />
            <br />
            <pre>
ErrorLog error.log
</pre><br />
            To log messages from "myHandler" at level 9, but log everything
            else at level 2:<br />
            <br />
            <pre>
ErrorLog error.log,myHandler:9
</pre>

            <h2><a name="logLevel" id="logLevel"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a> LogLevel</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Defines the verbosity of messages to the
                  error log</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">LogLevel errorLevel</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">LogLevel 2</td>
                </tr>
              </tbody>
            </table>The LogLevel directive defines the amount of information
            logged to the error log. The <span class="c3">errorLevel</span>
            argument must be a digit between 0 and 9 (inclusive) with 9 being
            the most verbose level.<br />
            <br />
            Normally a level of 2 is best as it will record the AppWeb
            configuration, denied requests and general errors.<br />
            <br />
          </div>
        </td>

        <td class="contentSep">&nbsp;</td>

        <td class="contentRight">
          <div class="linkSection">
            <h2>Quick Nav</h2><a href="#customLog">CustomLog</a><br />
            <a href="#errorLog">ErrorLog</a><br />
            <a href="#logLevel">LogLevel</a><br />
            <br />

            <h2>See Also</h2><a href=
            "../../../guide/appweb/users/admin/logFiles.html">Logging
            Overview</a><a href=
            "../../../guide/appweb/users/configuration.html"><br />
            Configuration<br /></a><a href="../directives.html">Configuration
            Directives</a><br />
          </div>
        </td>
      </tr>
    </tbody>
  </table>

<!-- BeginDsi "dsi/terms.html" -->
<p class="terms"> 
	<a href="../../../product/copyright.html"
		>&copy; Embedthis Software LLC, 2003-2009. All 
		rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
</p>
<!-- EndDsi -->

</body>
</html>
