<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Embedthis AppWeb Authorization Directives</title>
  

<!-- BeginDsi "dsi/meta.html" -->
	<meta name="keywords" content="embedded web server, web server software, 
		embedded HTTP, application web server, embedded server,
		small web server, HTTP server, library web server, library HTTP,
		HTTP library" />
	<meta name="description" content="Embedthis Sofware provides 
		open source embedded web servers for devices and applications." />
	<meta name="robots" content="index,follow" />
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/js.html" -->
	<script language="JavaScript" type="text/javascript">
		document._ROOT_="../../../";
	</script>
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/style.html" -->
	<link rel="stylesheet" type="text/css" href="../../../css/doc.css">
<!-- EndDsi -->

<style type="text/css">
/*<![CDATA[*/
 table.c4 {width: 100%; text-align: left;}
 span.c3 {font-weight: bold;}
 td.c2 {vertical-align: top;}
 td.c1 {vertical-align: top; font-weight: bold;}
/*]]>*/
</style>
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0">
  

<!-- BeginDsi "dsi/navTop.html" -->
	<div class="background">
		<table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td>
					<a name="top"></a>
					<img src="../../../images/backLeft.png" width="400" 
						height="93" border="0" ismap usemap="#home" /><br />
					<map name="home">
						<area coords="0,0,93,93" 
						href="http://www.mbedthis.com/index.html" />
					</map>
				</td>
				<td width="100%">
					<img src="../../../images/backMiddle.png" width="100%" 
						height="93" border="0" /><br />
				</td>
				<td>
					<img src="../../../images/backRight.png" width="354" 
						height="93" border="0" /><br />
				</td>
			</tr>
		</table>
	</div>

	<div class="navTop"> 
		<table cellpadding="0" cellspacing="0" border="0" align="top">
			<tr>
				<td valign="bottom"> 
					<a href="http://www.mbedthis.com/" class="navTop"
					>Embedthis Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../product/index.html" class="navTop"
					>Documentation Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../guide/appweb/users/admin/overview.html" class="navTop"
					>Administration</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../api/gen/appweb/overview.html" class="navTop"
					>Programmers Reference</a>
				</td>
				<td valign="bottom"> 
<!--
					<form class="smallText" action="../../../search.php" 
						method="post" name="searchForm" id="searchForm">
					</form>
					&nbsp; 
					<input class="smallText" type="text" name="search" 
						align="right" id="searchInput" size="15" maxlength="50"
						value="Sorry, No Searching" />
-->
				</td>
			</tr>
		</table>
	</div>

<!-- EndDsi -->

  <div class="navHistory">
    

<!-- BeginDsi "dsi/navHistory.html" -->
	<a href="../../../product/index.html">Documentation Home</a> &gt; 
<!-- EndDsi -->

     <a href="../overview.html">User Reference</a> &gt; <a href=
    "../directives.html">Configuration Directives</a> &gt; Authorization
    Directives
  </div>

  <table class="contentTable" border="0" height="100%">
    <tbody>
      <tr>
        <td class="content" width="75%">
          <div class="guideHeader">
            <h1><a href="../directives.html"><img src=
            "../../../images/leftArrow.gif" class="nav" height="14" width=
            "19" /></a> Authorization Directives</h1>
          </div>

          <div class="guideSection">
            <h2><a name="allow" id="allow"></a> <a href="#top"><img src=
            "../../../images/upArrow.gif" class="nav" height="16" width=
            "16" /></a>Allow</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Define which servers can access a section of
                  the published content</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">Allow from [all | host]</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Directory</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">&lt;Directory /var/www/acme&gt;<br />
                  &#194;&nbsp; &#194;&nbsp; Allow from www.acme.com<br />
                  &lt;/Directory&gt;</td>
                </tr>
              </tbody>
            </table>The Allow directive is currently not implemented.

            <h2><a name="authDigestQop" id="authDigestQop"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a> AuthDigestQop</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Defines the quality of protection for Digest
                  authentication</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">AuthDigestQop [none | auth | auth-int]</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host, Directory</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">AuthDigesteQop auth</td>
                </tr>
              </tbody>
            </table>The AuthDigestQop directive specifies the desire quality
            of protection to be employed by the AuthHandler when validating
            user credentials. The following levels are supported:<br />

            <ul>
              <li>none -- No authentication</li>

              <li>auth -- Standard digest authentication</li>

              <li>auth-int --Use integrity checking via an MD5 hash of the
              credentials. Not yet implemented.</li>
            </ul>The default level is "auth".<br />

            <h2><a name="authGroupFile" id="authGroupFile"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a> AuthGroupFile</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Defines the name of the user group file for
                  authentication.</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">AuthGroupFile path</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host, Directory</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">AuthGroupFile /var/lib/appweb/groups.db</td>
                </tr>
              </tbody>
            </table>The AuthGroupFile directive defines the file for AppWeb
            to use when validating user groups. The <span class=
            "c3">path</span> may be an absolute file name or it may be a path
            relative to the ServerRoot.<br />
            <br />
            Unlike Apache, AppWeb uses the same authorization file and format
            for Digest and Basic authentication. This simplifies
            administration. The file format is:<br />
            <br />
            <pre>
acmeUsers: coyote roadRunner 
</pre><br />
            SECURITY WARNING: it is essential that the AuthGroupFile and the
            AuthUserFile be stored outside the DocumentRoot or any directory
            serving content.

            <h2><a name="authName" id="authName"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a> AuthName</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Defines the "Realm" of users to be permitted
                  access to this set of documents.</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">AuthName realm</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host, Directory</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">AuthName "Acme Inc"<br />
                  AuthType Basic<br />
                  Require group employees<br /></td>
                </tr>
              </tbody>
            </table>The AuthName directive defines a name that is used to
            create a realm of access to AppWeb. &#194; Realms define discrete
            regions of access to AppWeb. Any number of realms may be created,
            but only one per context is allowed.<br />
            <br />
            The <span class="c3">realm</span> is usually presented by the
            user's browser when prompting for a user name and password.&#194;

            <h2><a name="authType" id="authType"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a> AuthType</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Defines the type of authentication to
                  use.</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">AuthType [Basic | Digest]</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host, Directory</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">AuthType Digest<br />
                  AuthName "Acme Inc"<br />
                  Require valid-user<br /></td>
                </tr>
              </tbody>
            </table>The AuthType directive specifies the style of
            authorization to perform when validating users.<br />
            <br />
            SECURITY WARNING: Basic authentication is not very secure. It
            will transmit your user credentials in a format that is very easy
            for malicious individuals to expose. Unless you are also using
            SSL, basic authentication is not recommended. If at all possible,
            use Digest authentication rather than Basic.&#194;

            <h2><a name="authUserFile" id="authUserFile"></a> <a href=
            "#top"><img src="../../../images/upArrow.gif" class="nav" height=
            "16" width="16" /></a> AuthUserFile</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Defines teh quality of protection for Digest
                  authentication</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">AuthDigestQop [none | auth | auth-int]</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host, Directory</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">AuthDigesteQop auth</td>
                </tr>
              </tbody>
            </table>The AuthUserFile directive defines the file for AppWeb to
            use when validating user names. The <span class="c3">path</span>
            may be an absolute file name or it may be a path relative to the
            ServerRoot.<br />
            <br />
            Unlike Apache, AppWeb uses the same authorization file and format
            for Digest and Basic authentication. This simplifies
            administration. The file format is:<br />
            <br />
            <pre>
coyote:Realm:EncryptedPassword 
</pre><br />
            The <span class="c3">Realm</span> is the name specified via the
            AuthName directive. The <span class="c3">EncryptedPassword</span>
            is an MD5 secure hash of the user name, realm and password. Use
            the AppWeb utility <span class="c3">httpPassword</span> to create
            entries in the password file. Use an editor to delete entries by
            deleting the relevant line.<br />
            <br />
            SECURITY WARNING: it is essential that the AuthUserFile and
            the&#194; AuthGroupFile be stored outside the DocumentRoot or any
            directory serving content.

            <h2><a name="deny" id="deny"></a> <a href="#top"><img src=
            "../../../images/upArrow.gif" class="nav" height="16" width=
            "16" /></a> Deny</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Defines which servers cannot access a
                  section of the published content.</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">Deny [all | host]</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host, Directory</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">Deny www.acme.com</td>
                </tr>
              </tbody>
            </table>The Deny directive is currently not implemented.

            <h2><a name="order" id="order"></a> <a href="#top"><img src=
            "../../../images/upArrow.gif" class="nav" height="16" width=
            "16" /></a> Order</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Specifies the order in which the allow and
                  deny directives apply.</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">Order allowSpec</td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host, Directory</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">Order Deny,Allow<br />
                  Deny from all<br />
                  Allow from www.acme.com<br /></td>
                </tr>
              </tbody>
            </table>The Order directive defines who the server access control
            is applied. The <span class="c3">allowSpec</span> may be either
            "Deny,Allow" or "Allow,Deny".&#194; Note that no spaces may
            appear between the words or after the comma.

            <h3>Deny,Allow</h3>The deny directive is applied first then the
            allow directive. Requests that do not match the deny directive
            and do match the allow directive will be permitted access. Access
            is allowed by default if either the deny or allow directive is
            ommitted.<br />

            <h3>Allow,Deny</h3>The allow directive is applied first then the
            deny directive. Requests that do not match the allow directive or
            requests that match the deny directive will be denied. Access is
            denied by default if either the deny or allow directive is
            ommitted.<br />

            <h3>Examples</h3>To only allow access for a specified domain,
            www.acme.com:<br />
            <br />
            <pre>
Order Deny,Allow<br />
Deny from All<br />
Allow from www.acme.com<br />
</pre><br />
            To deny access to a specific domain: www.myCompetitor.com<br />
            <br />
            <pre>
Order Allow,Deny<br />
Allow from All<br />
Deny from www.myCompetitor.com<br />
</pre>

            <h2><a name="require" id="require"></a> <a href="#top"><img src=
            "../../../images/upArrow.gif" class="nav" height="16" width=
            "16" /></a> Require</h2>

            <table cellpadding="3" cellspacing="1" border="0" class=
            "directive c4">
              <tbody>
                <tr>
                  <td class="c1">Description</td>

                  <td class="c2">Defines which authenticated users will be
                  permitted access to a set of published content.</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Synopsis</span><br /></td>

                  <td class="c2">Require user userName [userName]...<br />
                  Require group groupName [groupName]...<br />
                  Require valid-user<br />
                  Require acl aclMask<br /></td>
                </tr>

                <tr>
                  <td class="c1">Context</td>

                  <td class="c2">Default Server, Virtual Host, Directory</td>
                </tr>

                <tr>
                  <td class="c2"><span class="c3">Example</span><br /></td>

                  <td class="c2">AuthType Digest<br />
                  AuthName "Cartoon Actors"<br />
                  AuthUserFile "/var/appweb/users.db"<br />
                  AuthGroupFile "/var/appweb/groups.db"<br />
                  Require user coyote</td>
                </tr>
              </tbody>
            </table>The Require directive defines which users can access a
            set of resources. The directive may validate specific users, any
            valid user, or groups of users. The users and groups are
            specified via the <a href="#authUserFile">AuthUserFile</a> and
            <a href="#authGroupFile">AuthGroupFile</a> directives.<br />
            <br />
            The Require acl directive specifies an Access Control Mask which
            defines a set of capabilities that must be satisfied to grant
            access. ACLs are used to associated capabilities with users and
            groups of users and to specifiy via the Require directive what
            capabilities the user must posess to gain access. Typically each
            bit in the ACL mask corresponds to a set of tasks or roles which
            must be performed. For example: backup tasks could be associated
            with the bit 0x10 in the ACLs.<br />
            <br />
            ACLs are defined in the group authorization file where each group
            has a specified ACL mask. A user may be in multiple groups and
            their total ACL capabilities are the union (or) of all the group
            masks for which they are a member. To be granted access, the
            logical OR of the users ACL and the Required ACL must be
            non-zero. For example, if the groups file contained:<br />
            <br />
            <pre>
1: 0x111: powerUsers: peter<br />
1: 0x1: users: julie
</pre><br />
            And the Require directive was:<br />
            <pre>
Require acl 0x10
</pre><br />
            Then, for Peter, the computed ACL is 0x111 | 0x10 which results
            in 0x10 which is non-zero so Peter would be granted access.
            Julie's computed ACL is 0x1 | 0x10 which results in 0 so Julie
            would be denied access.<br />
            <br />
            The entries in the group authorization file contain ACL
            masks.<br />
            <br />
            <br />
          </div>
        </td>

        <td class="contentSep">&#194;&nbsp;</td>

        <td class="contentRight">
          <div class="linkSection">
            <h2>Quick Nav</h2><a href="#allow">Allow</a><br />
            <a href="#authDigestQop">AuthDigestQop</a><br />
            <a href="#authGroupFile">AuthGroupFile</a><br />
            <a href="#authName">AuthName</a><br />
            <a href="#authType">AuthType</a><br />
            <a href="#authUserFile">AuthUserFile</a><br />
            <a href="#deny">Deny</a><br />
            <a href="#order">Order</a><br />
            <a href="#require">Require</a><br />

            <h2>See Also</h2><a href=
            "../../../guide/appweb/users/authorization.html">Authoriation
            Guide</a><br />
            <a href=
            "../../../guide/appweb/users/configuration.html">Configuration<br />
            </a> <a href="../directives.html">Configuration
            Directives</a><br />
          </div>
        </td>
      </tr>
    </tbody>
  </table>

<!-- BeginDsi "dsi/terms.html" -->
<p class="terms"> 
	<a href="../../../product/copyright.html"
		>&copy; Embedthis Software LLC, 2003-2009. All 
		rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
</p>
<!-- EndDsi -->

</body>
</html>
