<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Embedthis Appweb Public API</title>

<!-- BeginDsi "dsi/meta.html" -->
	<meta name="keywords" content="embedded web server, web server software, 
		embedded HTTP, application web server, embedded server,
		small web server, HTTP server, library web server, library HTTP,
		HTTP library" />
	<meta name="description" content="Embedthis Sofware provides 
		open source embedded web servers for devices and applications." />
	<meta name="robots" content="index,follow" />
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/js.html" -->
	<script language="JavaScript" type="text/javascript">
		document._ROOT_="../../../";
	</script>
<!-- EndDsi -->

  

<!-- BeginDsi "dsi/style.html" -->
	<link rel="stylesheet" type="text/css" href="../../../css/doc.css">
<!-- EndDsi -->

</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0">
  

<!-- BeginDsi "dsi/navTop.html" -->
	<div class="background">
		<table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td>
					<a name="top"></a>
					<img src="../../../images/backLeft.png" width="400" 
						height="93" border="0" ismap usemap="#home" /><br />
					<map name="home">
						<area coords="0,0,93,93" 
						href="http://www.mbedthis.com/index.html" />
					</map>
				</td>
				<td width="100%">
					<img src="../../../images/backMiddle.png" width="100%" 
						height="93" border="0" /><br />
				</td>
				<td>
					<img src="../../../images/backRight.png" width="354" 
						height="93" border="0" /><br />
				</td>
			</tr>
		</table>
	</div>

	<div class="navTop"> 
		<table cellpadding="0" cellspacing="0" border="0" align="top">
			<tr>
				<td valign="bottom"> 
					<a href="http://www.mbedthis.com/" class="navTop"
					>Embedthis Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../product/index.html" class="navTop"
					>Documentation Home</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../guide/appweb/users/admin/overview.html" class="navTop"
					>Administration</a> |&nbsp;
				</td>
				<td valign="bottom"> 
					<a href="../../../api/gen/appweb/overview.html" class="navTop"
					>Programmers Reference</a>
				</td>
				<td valign="bottom"> 
<!--
					<form class="smallText" action="../../../search.php" 
						method="post" name="searchForm" id="searchForm">
					</form>
					&nbsp; 
					<input class="smallText" type="text" name="search" 
						align="right" id="searchInput" size="15" maxlength="50"
						value="Sorry, No Searching" />
-->
				</td>
			</tr>
		</table>
	</div>

<!-- EndDsi -->

  <div class="navHistory">
    

<!-- BeginDsi "dsi/navHistory.html" -->
	<a href="../../../product/index.html">Documentation Home</a> &gt; 
<!-- EndDsi -->

     <a href="overview.html">Programmers Reference</a> &gt; <a href='files.html'>Files</a> &gt <b>esp.h</b>
  </div>

  <table class="content" border="0" height="100%" width="100%">
    <tr>
      <td class="content">
</div>
<div class="contents">
<h1>Embedded Server Pages C API</h1>Embedded Server Pages (ESP).  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#7ad2048532636752170744d44a7038ee">EspCFunction</a> )(EspRequest *ep, int argc, struct MprVar **argv)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function signature for ESP function callback procedures. The maEspDefineCFunction call takes a function of this prototype to associate with a JavaScript function.  <a href="#7ad2048532636752170744d44a7038ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#e649ae360c6fca562ff985d2a4613b44">EspHandle</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Opaque handle usually used to store the web request handle.  <a href="#e649ae360c6fca562ff985d2a4613b44"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#24628ead04cb87ad47f8f69c694e571d">EspStringCFunction</a> )(EspRequest *ep, int argc, char **argv)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function signature for ESP function callbacks that require string arguments. The maEspDefineStringCFunction call takes a function of this prototype to associate with a JavaScript function.  <a href="#24628ead04cb87ad47f8f69c694e571d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#50c1dd7bca6ec7c7d7b6d56295e795f1">espCopyVar</a> (EspRequest *ep, char *var, MprVar *value, int copyDepth)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#35c88db8a95b7099c103ccdfe30214ec">espCreateArrayVar</a> (char *name, int size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#2320454f0b6bc6e6dd2fbc73e09042b3">espCreateObjVar</a> (char *name, int hashSize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#a8c5bdbc2632307739c019b0e4b48fac">espCreateProperty</a> (MprVar *obj, char *property, MprVar *newValue)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#332175f35415d08eb9db3b75033bb279">espCreatePropertyValue</a> (MprVar *obj, char *property, MprVar newValue)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a> (EspRequest *ep, char *functionName, <a class="el" href="esp_8h.html#7ad2048532636752170744d44a7038ee">EspCFunction</a> fn, void *thisPtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#d2bf8a327f9c4ad2e5ba99a7867bb0d6">espDefineFunction</a> (EspRequest *ep, char *functionName, char *args, char *body)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#29161e7c51f7aa370ef4f47414046a34">espDefineStringCFunction</a> (EspRequest *ep, char *functionName, <a class="el" href="esp_8h.html#24628ead04cb87ad47f8f69c694e571d">EspStringCFunction</a> fn, void *thisPtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#9df3e72f1040ce8b4b2c7494485f94bb">espDeleteProperty</a> (MprVar *obj, char *property)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#c959a27ac453ba243a871fc642d34edb">espDeleteVar</a> (EspRequest *ep, char *var)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#77641dcb63b17242fe6234653a6b6fe0">espDestroyVar</a> (MprVar *var)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a> (EspRequest *ep, char *fmt,...)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#7530cf43b3e96dd1e8b6801cc8656a31">espEvalFile</a> (EspRequest *ep, char *path, MprVar *result, char **emsg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#a34b1c999ea234f6d36720fef2d11fc7">espEvalScript</a> (EspRequest *ep, char *script, MprVar *result, char **emsg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#8023f10bd6e9932416dad1ab7c7775f3">espGetFirstProperty</a> (MprVar *obj, int includeFlags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#81a095ba10018a7afc58464ea547df4d">espGetGlobalObject</a> (EspRequest *ep)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#00244b9482cccdf73fa1dd1690fbfa65">espGetLocalObject</a> (EspRequest *ep)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#b21fefe4328fbda4713e1851870f9e87">espGetNextProperty</a> (MprVar *obj, MprVar *currentProperty, int includeFlags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a> (MprVar *obj, char *property, MprVar *value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#0cb6334a8f9735972624fd8e6f4f94f6">espGetPropertyCount</a> (MprVar *obj, int includeFlags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="esp_8h.html#e649ae360c6fca562ff985d2a4613b44">EspHandle</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a> (EspRequest *ep)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a> (EspRequest *ep)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">EjsId&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a> (EspRequest *ep)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#7f4d3f3f504098ed7e532f8e90eb958c">espGetStringVar</a> (EspRequest *ep, EspEnvType oType, char *var, char *defaultValue)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a> (EspRequest *ep, EspEnvType oType, char *var, MprVar *value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#72bd414342f3139a24ea87cd4dd283b8">espReadVar</a> (EspRequest *ep, char *var, MprVar *value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a> (EspRequest *ep, int code, char *url)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#0885552a771266f05bd9edabc2f56121">espRunFunction</a> (EspRequest *ep, MprVar *obj, char *functionName, <a class="el" href="structMprArray.html">MprArray</a> *args)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a> (EspRequest *ep, char *header, bool allowMultiple)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#713d1a4e8e741b1843e7d425b2df36be">espSetProperty</a> (MprVar *obj, char *property, MprVar *newValue)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">MprVar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#52f4f086c3de5696b83965647859e67e">espSetPropertyValue</a> (MprVar *obj, char *property, MprVar newValue)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a> (EspRequest *ep, int code)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a> (EspRequest *ep, MprVar value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#142ad2ecdc301828f045a668365923cf">espSetReturnString</a> (EspRequest *ep, char *str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#da0286a86673f64aec45c36a21a1418a">espSetStringVar</a> (EspRequest *ep, EspEnvType oType, char *var, char *value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a> (EspRequest *ep, EspEnvType oType, char *var, MprVar value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#308cc5e2ec23140c9ee462cebf7447b7">espUnsetVar</a> (EspRequest *ep, EspEnvType oType, char *var)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> (EspRequest *ep, char *buf, int size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#f0c11354ea938c922865aff6dee2cfe7">espWriteFmt</a> (EspRequest *ep, char *fmt,...)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#4bde7e04b18d65fccf761b88a161bbf9">espWriteVar</a> (EspRequest *ep, char *var, MprVar *value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_8h.html#012beaa30e86880cf995fcefa44a2992">espWriteVarValue</a> (EspRequest *ep, char *var, MprVar value)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Embedded Server Pages (ESP). 
<p>
Header for Embedded Server Pages (ESP).<p>
Embedded Server Pages (ESP) is a simple and powerful environment for creating dynamic HTML web pages. It is a portable and cross-platform and has been ported to run in several web servers. It is like a mini-PHP with a similar usage paradigm, but is much smaller and requires far fewer resources at run time.<p>
ESP allows you to embed JavaScript statements, scripts and programs into HTML pages that are automatically run when the ESP page is accessed. The ESP engine and embedded scripting create the actual page the users sees "on the fly". ESP and the Embedded JavaScript (EJS) interpreter work very closely together to provide the ESP page creation environment.<p>
JavaScript statements can use standard JavaScript features or you can enhance the JavaScript environment by publishing new JavaScript functions that can be called from with the ESP pages. ESP allows you to link C functions to their JavaScript namesake so that when an ESP page executes a JavaScript function call, the C function is seamlessly invoked with the appropriate arguments.<p>
Read the ESP User Guide and the JavaScript Guide for more details.<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="7ad2048532636752170744d44a7038ee"></a><!-- doxytag: member="esp.h::EspCFunction" ref="7ad2048532636752170744d44a7038ee" args=")(EspRequest *ep, int argc, struct MprVar **argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="esp_8h.html#7ad2048532636752170744d44a7038ee">EspCFunction</a>)(EspRequest *ep, int argc, MprVar **argv)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function signature for ESP function callback procedures. The maEspDefineCFunction call takes a function of this prototype to associate with a JavaScript function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Count of the number of arguments in argv </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>Array of string arguments </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Stability</b> <b>classification</b>:</b></dt><dd>Evolving </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libespModule </dd></dl>

</div>
</div><p>
<a class="anchor" name="e649ae360c6fca562ff985d2a4613b44"></a><!-- doxytag: member="esp.h::EspHandle" ref="e649ae360c6fca562ff985d2a4613b44" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void * <a class="el" href="esp_8h.html#e649ae360c6fca562ff985d2a4613b44">EspHandle</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opaque handle usually used to store the web request handle. 
<p>
<dl class="user" compact><dt><b><b>Stability</b> <b>classification</b>:</b></dt><dd>Evolving </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libespModule </dd></dl>

</div>
</div><p>
<a class="anchor" name="24628ead04cb87ad47f8f69c694e571d"></a><!-- doxytag: member="esp.h::EspStringCFunction" ref="24628ead04cb87ad47f8f69c694e571d" args=")(EspRequest *ep, int argc, char **argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="esp_8h.html#24628ead04cb87ad47f8f69c694e571d">EspStringCFunction</a>)(EspRequest *ep, int argc, char **argv)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function signature for ESP function callbacks that require string arguments. The maEspDefineStringCFunction call takes a function of this prototype to associate with a JavaScript function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Count of the number of arguments in argv </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>Array of string arguments </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Stability</b> <b>classification</b>:</b></dt><dd>Evolving </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libespModule </dd></dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="50c1dd7bca6ec7c7d7b6d56295e795f1"></a><!-- doxytag: member="esp.h::espCopyVar" ref="50c1dd7bca6ec7c7d7b6d56295e795f1" args="(EspRequest *ep, char *var, MprVar *value, int copyDepth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espCopyVar           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>copyDepth</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Copy a JavaScript variable </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This function copies a variable. Variables contain primitive types such as integers or floating point numbers. They may also contain strings or references to objects. When an object is copied, certain fields such as the object name are always duplicated and so when the the copied variable is no longer needed, it must be destroyed via mprDestroyVar to release the allocated storeage. <br>
<br>
 </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>var</em>&nbsp;</td><td>Name of the variable to copy. Variable names may be fully qualified object.property refererence. I.e. they may contain "." or "[]". However, array indexes inside "[]" must be constant. If you require variable access with expresssion array indexes, use espEvalScript and define your script to just be the array reference. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Pointer to a MprValue to contain the copied variable. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>copyDepth</em>&nbsp;</td><td>Flags to specify how to copy the data inside the variable. If <em>copyDepth</em> is MPR_DEEP_COPY, the all data fields are completely copies. If the source variable is an object, then all its properties will also be copied. If these properties are themselves objects, they will also be copied recursively. <br>
<br>
 If <em>copyDepth</em> is MPR_SHALLOW_COPY, objects will not be copied. Rather the object's reference count will be incremented. Objects use reference counts to assist the garbage collection mechanism. When the reference count is zero, the object is discarded. For MPR_SHALLOW_COPY, string data will still be copied. <br>
<br>
 If <em>copyDepth</em> is 0 or MPR_NO_COPY, then no objects or strings are copied. Only primitive data and the string or object reference is copied. Object reference counts are not changed. Use care when using MPR_NO_COPY particularly when running multithreaded. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns zero if successful, otherwise a negative MPR error code is returned. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#2320454f0b6bc6e6dd2fbc73e09042b3">espCreateObjVar</a>, <a class="el" href="esp_8h.html#a8c5bdbc2632307739c019b0e4b48fac">espCreateProperty</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#72bd414342f3139a24ea87cd4dd283b8">espReadVar</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a>, <a class="el" href="var_8h.html#8a2dd4c34216d5983a661459852f1782">mprCopyVar</a>, <a class="el" href="var_8h.html#c1fe7b7b05f56bf050b560b334290589">mprDupVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="35c88db8a95b7099c103ccdfe30214ec"></a><!-- doxytag: member="esp.h::espCreateArrayVar" ref="35c88db8a95b7099c103ccdfe30214ec" args="(char *name, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar espCreateArrayVar           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Create a ESP array variable </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call create an array variable with the standard ESP/EJS array properties and methods. Embedded JavaScript array objects are created with the toString and toValue methods defined. Once created, the underlying array will have a reference count of 1. To destroy the array, call espDestroyVar which will decrement the reference count and will destroy the array if no-one is still using it (ie. ref count == 0). </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the variable. This name is not used for access and is primarily used for debugging. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Initial size of the array. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the created array object. If a memory allocation failure occurs, the returned object will have a type set to MPR_TYPE_UNDEFINED. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#2320454f0b6bc6e6dd2fbc73e09042b3">espCreateObjVar</a>, <a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#a8c5bdbc2632307739c019b0e4b48fac">espCreateProperty</a>, <a class="el" href="var_8h.html#8a2dd4c34216d5983a661459852f1782">mprCopyVar</a>, <a class="el" href="var_8h.html#afb76a44ad750094631f144be70d8f4b">mprCreateIntegerVar</a>, <a class="el" href="var_8h.html#43c54e7d9305eb212bf067644b7f0571">mprCreateStringVar</a>, <a class="el" href="var_8h.html#f4db78c28f04a1dc89f6997ea3a852ab">mprDestroyVar</a>, </dd></dl>

</div>
</div><p>
<a class="anchor" name="2320454f0b6bc6e6dd2fbc73e09042b3"></a><!-- doxytag: member="esp.h::espCreateObjVar" ref="2320454f0b6bc6e6dd2fbc73e09042b3" args="(char *name, int hashSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar espCreateObjVar           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>hashSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Create a ESP object variable </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call create an object variable with the standard ESP/EJS properties and methods. Embedded JavaScript objects are created with the toString and toValue methods defined. Once created, the underlying object will have a reference count of 1. To destroy the object, call mprDestroyVar which will decrement the reference count and will destroy the object if no-one is still using the object (ie. ref count == 0). </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the variable. This name is not used for access and is primarily used for debugging. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashSize</em>&nbsp;</td><td>Size of the objects property index hash table. Objects index their properties using hash tables. If an object or array has many properties or elements, performance can be enhanced by specifying a larger hash table size. Specify zero to accept the default hash table size. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the created object. If a memory allocation failure occurs, the returned object will have a type set to MPR_TYPE_UNDEFINED. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#35c88db8a95b7099c103ccdfe30214ec">espCreateArrayVar</a>, <a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#a8c5bdbc2632307739c019b0e4b48fac">espCreateProperty</a>, <a class="el" href="var_8h.html#8a2dd4c34216d5983a661459852f1782">mprCopyVar</a>, <a class="el" href="var_8h.html#afb76a44ad750094631f144be70d8f4b">mprCreateIntegerVar</a>, <a class="el" href="var_8h.html#43c54e7d9305eb212bf067644b7f0571">mprCreateStringVar</a>, <a class="el" href="var_8h.html#f4db78c28f04a1dc89f6997ea3a852ab">mprDestroyVar</a>, </dd></dl>

</div>
</div><p>
<a class="anchor" name="a8c5bdbc2632307739c019b0e4b48fac"></a><!-- doxytag: member="esp.h::espCreateProperty" ref="a8c5bdbc2632307739c019b0e4b48fac" args="(MprVar *obj, char *property, MprVar *newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar* espCreateProperty           </td>
          <td>(</td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Create a property in the nominated object. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call creates and initializes a property in an object. The property must not already exist. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object in which to create the property. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>property</em>&nbsp;</td><td>Name of the property. This must be a simple JavaScript identifier without "." or "[]" characters. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newValue</em>&nbsp;</td><td>Pointer to a MprVar with which to initialize the property. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the created property. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#2320454f0b6bc6e6dd2fbc73e09042b3">espCreateObjVar</a>, <a class="el" href="var_8h.html#8a2dd4c34216d5983a661459852f1782">mprCopyVar</a>, <a class="el" href="var_8h.html#afb76a44ad750094631f144be70d8f4b">mprCreateIntegerVar</a>, <a class="el" href="var_8h.html#43c54e7d9305eb212bf067644b7f0571">mprCreateStringVar</a>, <a class="el" href="var_8h.html#f4db78c28f04a1dc89f6997ea3a852ab">mprDestroyVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="332175f35415d08eb9db3b75033bb279"></a><!-- doxytag: member="esp.h::espCreatePropertyValue" ref="332175f35415d08eb9db3b75033bb279" args="(MprVar *obj, char *property, MprVar newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar* espCreatePropertyValue           </td>
          <td>(</td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Create a property in the nominated object. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call creates and initializes a property in an object. The property must not already exist. This routine is very similar to espCreateProperty except that the new value is passed by "value" rather than by reference. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object in which to create the property. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>property</em>&nbsp;</td><td>Name of the property. This must be a simple JavaScript identifier without "." or "[]" characters. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newValue</em>&nbsp;</td><td>Value to with which to initialize the property. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the new property. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#2320454f0b6bc6e6dd2fbc73e09042b3">espCreateObjVar</a>, <a class="el" href="var_8h.html#8a2dd4c34216d5983a661459852f1782">mprCopyVar</a>, <a class="el" href="var_8h.html#afb76a44ad750094631f144be70d8f4b">mprCreateIntegerVar</a>, <a class="el" href="var_8h.html#43c54e7d9305eb212bf067644b7f0571">mprCreateStringVar</a>, <a class="el" href="var_8h.html#f4db78c28f04a1dc89f6997ea3a852ab">mprDestroyVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="3455e1295fd492be4f075388c2fbfaee"></a><!-- doxytag: member="esp.h::espDefineCFunction" ref="3455e1295fd492be4f075388c2fbfaee" args="(EspRequest *ep, char *functionName, EspCFunction fn, void *thisPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espDefineCFunction           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>functionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="esp_8h.html#7ad2048532636752170744d44a7038ee">EspCFunction</a>&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>thisPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Define a C language function to invoke when the named JavaScript function is called. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call binds a C function with a JavaScript function name. Whenever the JavaScript function is called, the associated C function will be invoked with the supplied arguments. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>functionName</em>&nbsp;</td><td>JavaScript function name to associate with this C function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>C function to be invoked. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>thisPtr</em>&nbsp;</td><td>If using C++ the <em>thisPtr</em> argument can be set to an object that will contain a function to be invoked. The <em>fn</em> argument must still be set to a C language wrapper which then invokes the C++ function contained in the object pointed to by <em>thisPtr</em>. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#d2bf8a327f9c4ad2e5ba99a7867bb0d6">espDefineFunction</a>, <a class="el" href="esp_8h.html#29161e7c51f7aa370ef4f47414046a34">espDefineStringCFunction</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="d2bf8a327f9c4ad2e5ba99a7867bb0d6"></a><!-- doxytag: member="esp.h::espDefineFunction" ref="d2bf8a327f9c4ad2e5ba99a7867bb0d6" args="(EspRequest *ep, char *functionName, char *args, char *body)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espDefineFunction           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>functionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>body</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Define a JavaScript function. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call defines a JavaScript function by supplying a JavaScript script body and a formal argument list. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>functionName</em>&nbsp;</td><td>JavaScript function name for this function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>Formal parameters for the function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>body</em>&nbsp;</td><td>JavaScript body of the function. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#29161e7c51f7aa370ef4f47414046a34">espDefineStringCFunction</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="29161e7c51f7aa370ef4f47414046a34"></a><!-- doxytag: member="esp.h::espDefineStringCFunction" ref="29161e7c51f7aa370ef4f47414046a34" args="(EspRequest *ep, char *functionName, EspStringCFunction fn, void *thisPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espDefineStringCFunction           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>functionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="esp_8h.html#24628ead04cb87ad47f8f69c694e571d">EspStringCFunction</a>&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>thisPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Define a C language function with string arguments to invoke when the named JavaScript function is called. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call binds a C function with a JavaScript function name. Whenever the JavaScript function is called, the given arguments are converted to strings and the associated C function is be invoked. For functions that only ever require string arguments, this is the preferred way of binding to JavaScript function names. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>functionName</em>&nbsp;</td><td>JavaScript function name to associate with this C function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>C function to be invoked. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>thisPtr</em>&nbsp;</td><td>If using C++ the <em>thisPtr</em> argument can be set to an object that will contain a function to be invoked. The <em>fn</em> argument must still be set to a C language wrapper which then invokes the C++ function contained in the object pointed to by <em>thisPtr</em>. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#d2bf8a327f9c4ad2e5ba99a7867bb0d6">espDefineFunction</a>, <a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="9df3e72f1040ce8b4b2c7494485f94bb"></a><!-- doxytag: member="esp.h::espDeleteProperty" ref="9df3e72f1040ce8b4b2c7494485f94bb" args="(MprVar *obj, char *property)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espDeleteProperty           </td>
          <td>(</td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>property</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Delete the property in the specified object. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call deletes a property from an object. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object in which to delete the property. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>property</em>&nbsp;</td><td>Name of the property to delete. This must be a simple JavaScript identifier without "." or "[]" characters. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns zero if sucssessful. Otherwise a negative MPR error code. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#a8c5bdbc2632307739c019b0e4b48fac">espCreateProperty</a>, <a class="el" href="esp_8h.html#2320454f0b6bc6e6dd2fbc73e09042b3">espCreateObjVar</a>, <a class="el" href="var_8h.html#8a2dd4c34216d5983a661459852f1782">mprCopyVar</a>, <a class="el" href="var_8h.html#afb76a44ad750094631f144be70d8f4b">mprCreateIntegerVar</a>, <a class="el" href="var_8h.html#43c54e7d9305eb212bf067644b7f0571">mprCreateStringVar</a>, <a class="el" href="var_8h.html#f4db78c28f04a1dc89f6997ea3a852ab">mprDestroyVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="c959a27ac453ba243a871fc642d34edb"></a><!-- doxytag: member="esp.h::espDeleteVar" ref="c959a27ac453ba243a871fc642d34edb" args="(EspRequest *ep, char *var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espDeleteVar           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Delete the named variable </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This function deletes the named variable. Variables contain primitive types such as integers or floating point numbers. They may also contain strings or references to objects. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>var</em>&nbsp;</td><td>Name of the variable to copy. Variable names may be fully qualified object.property refererence. I.e. they may contain "." or "[]". However, array indexes inside "[]" must be constant. If you require variable access with expresssion array indexes, use espEvalScript and define your script to just be the array reference. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns zero if successful, otherwise a negative MPR error code is returned. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#50c1dd7bca6ec7c7d7b6d56295e795f1">espCopyVar</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a>, <a class="el" href="esp_8h.html#4bde7e04b18d65fccf761b88a161bbf9">espWriteVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="77641dcb63b17242fe6234653a6b6fe0"></a><!-- doxytag: member="esp.h::espDestroyVar" ref="77641dcb63b17242fe6234653a6b6fe0" args="(MprVar *var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool espDestroyVar           </td>
          <td>(</td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Destroy an ESP variable </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call destroys an ESP variable and frees allocated storage. If the variable represents an object, the object's reference count will be decremented and if zero, the object will be destroyed. If the object has properties that represent other objects, these too will be destroyed recursively if their refererence counts are zero. mprDestroyVar can intelligently handle circular references between objects. <br>
<br>
 mprDestroyVar intelligently destroys dynamicall allocated objects that have been created via mprDupVar and statically copied object that have been created using mprCreate or mprCopyVar. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>Pointer to an ESP variable to destroy </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns TRUE if they underlying data was freed. This will be false for objects, if there are other users of the object. Otherwise, for all other types, it will be TRUE. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#2320454f0b6bc6e6dd2fbc73e09042b3">espCreateObjVar</a>, <a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#a8c5bdbc2632307739c019b0e4b48fac">espCreateProperty</a>, <a class="el" href="var_8h.html#8a2dd4c34216d5983a661459852f1782">mprCopyVar</a>, <a class="el" href="var_8h.html#afb76a44ad750094631f144be70d8f4b">mprCreateIntegerVar</a>, <a class="el" href="var_8h.html#43c54e7d9305eb212bf067644b7f0571">mprCreateStringVar</a>, <a class="el" href="var_8h.html#f4db78c28f04a1dc89f6997ea3a852ab">mprDestroyVar</a>, </dd></dl>

</div>
</div><p>
<a class="anchor" name="6030e31bf04ebc594e274ae80317df51"></a><!-- doxytag: member="esp.h::espError" ref="6030e31bf04ebc594e274ae80317df51" args="(EspRequest *ep, char *fmt,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espError           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Abort the ESP request and respond with an error </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call aborts the current ESP request. If ESP is configured to send errors to the user's browser, the formatted error messsage will be sent to the browser. If configured to log error messages, the error is logged. Note: that error messages are automatically HTML encoded to prevent cross-site scripting errors. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fmt</em>&nbsp;</td><td>Printf style format string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>Variable arguments for the format string </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a>, <a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a>, <a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a>, <a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a>, <a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="7530cf43b3e96dd1e8b6801cc8656a31"></a><!-- doxytag: member="esp.h::espEvalFile" ref="7530cf43b3e96dd1e8b6801cc8656a31" args="(EspRequest *ep, char *path, MprVar *result, char **emsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espEvalFile           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>emsg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Evaluate a file script </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call reads and evaluates the script specified by the <em>path</em> argument. The value of the last expression evaluated is returned in result. If the script encounters an error, processing is aborted and <em>emsg</em> is set to a descriptive error message. If an error occurs the caller must free the message by calling mprFree(emsg). </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>File pathname containing the name of the script file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>Pointer to a MprVar variable that will contain a pointer to the result. The caller does not need to free the result. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>emsg</em>&nbsp;</td><td>Pointer to a location to hold an error message if errors occurs. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#d2bf8a327f9c4ad2e5ba99a7867bb0d6">espDefineFunction</a>, <a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#29161e7c51f7aa370ef4f47414046a34">espDefineStringCFunction</a>, <a class="el" href="esp_8h.html#0885552a771266f05bd9edabc2f56121">espRunFunction</a>, <a class="el" href="esp_8h.html#a34b1c999ea234f6d36720fef2d11fc7">espEvalScript</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="a34b1c999ea234f6d36720fef2d11fc7"></a><!-- doxytag: member="esp.h::espEvalScript" ref="a34b1c999ea234f6d36720fef2d11fc7" args="(EspRequest *ep, char *script, MprVar *result, char **emsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espEvalScript           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>script</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>emsg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Evaluate a script </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call evaluates the supplied ESP/JavaScript script. The value of the last expression evaluated is returned in result. If the script encounters an error, processing is aborted and <em>emsg</em> is set to a descriptive error message. If an error occurs the caller must free the message by calling mprFree(emsg). </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>script</em>&nbsp;</td><td>Buffer containing the script. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>Pointer to a MprVar variable that will contain a pointer to the result. The caller does not need to free the result. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>emsg</em>&nbsp;</td><td>Pointer to a location to hold an error message if errors occurs. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#d2bf8a327f9c4ad2e5ba99a7867bb0d6">espDefineFunction</a>, <a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#29161e7c51f7aa370ef4f47414046a34">espDefineStringCFunction</a>, <a class="el" href="esp_8h.html#0885552a771266f05bd9edabc2f56121">espRunFunction</a>, <a class="el" href="esp_8h.html#7530cf43b3e96dd1e8b6801cc8656a31">espEvalFile</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="8023f10bd6e9932416dad1ab7c7775f3"></a><!-- doxytag: member="esp.h::espGetFirstProperty" ref="8023f10bd6e9932416dad1ab7c7775f3" args="(MprVar *obj, int includeFlags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar* espGetFirstProperty           </td>
          <td>(</td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>includeFlags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Get the first property in from an object. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>To iterate over the properties in an object, espGetFirstProperty and espGetNextProperty are used. You can specify what object properties you wish to enumerate by setting the includeFlags mask. For example:</dd></dl>
<div class="fragment"><pre class="fragment">            MprVar  *vp;
            vp = espGetFirstProperty(obj, <a class="code" href="var_8h.html#54baa2b3598370403706c49e9a0be932">MPR_ENUM_DATA</a>);
            <span class="keywordflow">while</span> (vp) {
                <span class="comment">/* Processing each property here */</span>
                vp = espGetNextProperty(obj, vp);
            }
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object in which to enumerate the properties. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>includeFlags</em>&nbsp;</td><td>Bit mask that specifies what variables to enumerate. Or together bits from: MPR_ENUM_DATA to enumerate data properties and, MPR_ENUM_FUNCTIONS to enumerate functions. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the property. Caller does not need to free. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#b21fefe4328fbda4713e1851870f9e87">espGetNextProperty</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#0cb6334a8f9735972624fd8e6f4f94f6">espGetPropertyCount</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="81a095ba10018a7afc58464ea547df4d"></a><!-- doxytag: member="esp.h::espGetGlobalObject" ref="81a095ba10018a7afc58464ea547df4d" args="(EspRequest *ep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar* espGetGlobalObject           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Return a pointer to the JavaScript interpreter's global variables object </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>ESP maintains a global variable object in which all global variables are defined as properties. You can access global variables directly by name or via "global.name". This is useful if there may be a local variable of the same name and you need to guarantee you are referencing the global variable. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the global object. The caller should not free the returned object. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#00244b9482cccdf73fa1dd1690fbfa65">espGetLocalObject</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#7f4d3f3f504098ed7e532f8e90eb958c">espGetStringVar</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#713d1a4e8e741b1843e7d425b2df36be">espSetProperty</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="00244b9482cccdf73fa1dd1690fbfa65"></a><!-- doxytag: member="esp.h::espGetLocalObject" ref="00244b9482cccdf73fa1dd1690fbfa65" args="(EspRequest *ep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar* espGetLocalObject           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Return a pointer to the local variables object </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>ESP maintains a local variable object in which all local variables are defined as properties. You can access local variables directly by name or via "local.name". Use the espGetProperty routine to read properties in the local object. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the local object. The caller should not free the returned object. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#81a095ba10018a7afc58464ea547df4d">espGetGlobalObject</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#7f4d3f3f504098ed7e532f8e90eb958c">espGetStringVar</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#713d1a4e8e741b1843e7d425b2df36be">espSetProperty</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="b21fefe4328fbda4713e1851870f9e87"></a><!-- doxytag: member="esp.h::espGetNextProperty" ref="b21fefe4328fbda4713e1851870f9e87" args="(MprVar *obj, MprVar *currentProperty, int includeFlags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar* espGetNextProperty           </td>
          <td>(</td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>currentProperty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>includeFlags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Get the next property when enumerating object properties. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call returns the next property in sequence. Use espGetFirstProperty to begin the enumeration. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object in which to enumerate the properties. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>currentProperty</em>&nbsp;</td><td>The property last returned from espGetNextProperty or espGetFirstProperty. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>includeFlags</em>&nbsp;</td><td>Bit mask that specifies what variables to enumerate. Or together bits from: MPR_ENUM_DATA to enumerate data properties and, MPR_ENUM_FUNCTIONS to enumerate functions. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the property. Caller does not need to free. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#8023f10bd6e9932416dad1ab7c7775f3">espGetFirstProperty</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#0cb6334a8f9735972624fd8e6f4f94f6">espGetPropertyCount</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="1b502caa6a66ebdf4c16c8ff16011067"></a><!-- doxytag: member="esp.h::espGetProperty" ref="1b502caa6a66ebdf4c16c8ff16011067" args="(MprVar *obj, char *property, MprVar *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar* espGetProperty           </td>
          <td>(</td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Get a property </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call returns a pointer to a property and optionally sets the <em>value</em> argument to the property's value. If <em>value</em> is not NULL and it points to a MprVar variable, espGetProperty will copy the property's value into <em>value</em>. This routine can be used to test if a property exists. If the referenced property is an object, this call will not affect the reference count. This call invokes READ triggers that have been defined on the property. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object in which to get the property. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>property</em>&nbsp;</td><td>Name of the property to access. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Optional pointer to a MprVar to accept a copy of the data. The caller does <em>not</em> need to destroy the value via mprDestroyVar. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the property variable. Returns zero if the property cannot be found. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#a8c5bdbc2632307739c019b0e4b48fac">espCreateProperty</a>, <a class="el" href="esp_8h.html#2320454f0b6bc6e6dd2fbc73e09042b3">espCreateObjVar</a>, <a class="el" href="esp_8h.html#9df3e72f1040ce8b4b2c7494485f94bb">espDeleteProperty</a>, <a class="el" href="esp_8h.html#72bd414342f3139a24ea87cd4dd283b8">espReadVar</a>, <a class="el" href="esp_8h.html#713d1a4e8e741b1843e7d425b2df36be">espSetProperty</a>, <a class="el" href="esp_8h.html#4bde7e04b18d65fccf761b88a161bbf9">espWriteVar</a>, <a class="el" href="var_8h.html#8a2dd4c34216d5983a661459852f1782">mprCopyVar</a>, <a class="el" href="var_8h.html#afb76a44ad750094631f144be70d8f4b">mprCreateIntegerVar</a>, <a class="el" href="var_8h.html#43c54e7d9305eb212bf067644b7f0571">mprCreateStringVar</a>, <a class="el" href="var_8h.html#f4db78c28f04a1dc89f6997ea3a852ab">mprDestroyVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="0cb6334a8f9735972624fd8e6f4f94f6"></a><!-- doxytag: member="esp.h::espGetPropertyCount" ref="0cb6334a8f9735972624fd8e6f4f94f6" args="(MprVar *obj, int includeFlags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espGetPropertyCount           </td>
          <td>(</td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>includeFlags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Get the count of properties in an object </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>Returns the count of properties in an object. <em>includeFlags</em> determines the types of properties that are counted. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object in which to count the properties. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>includeFlags</em>&nbsp;</td><td>Bit mask specifying what properties to count. <ul>
<li>MPR_ENUM_DATA means count data properties. </li>
<li>MPR_ENUM_FUNCTION means count function properties. </li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the number selected properties in the object. Returns MPR_ERR_BAD_STATE if the object is not of type MPR_TYPE_OBJECT. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#8023f10bd6e9932416dad1ab7c7775f3">espGetFirstProperty</a>, <a class="el" href="esp_8h.html#b21fefe4328fbda4713e1851870f9e87">espGetNextProperty</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a> <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a>, <a class="el" href="esp_8h.html#da0286a86673f64aec45c36a21a1418a">espSetStringVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="6a736f866defb59730d0eb439d756934"></a><!-- doxytag: member="esp.h::espGetRequestHandle" ref="6a736f866defb59730d0eb439d756934" args="(EspRequest *ep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="esp_8h.html#e649ae360c6fca562ff985d2a4613b44">EspHandle</a> espGetRequestHandle           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Get the web server request handle. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call returns the web server request handle that describes the current web request. For AppWeb this is an MaRequest* type and for WebServer it is a webs_t type. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the web server request handle. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a>, <a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a>, <a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a>, <a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a>, <a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="ca976960942ae64291957abb07f2d1db"></a><!-- doxytag: member="esp.h::espGetResult" ref="ca976960942ae64291957abb07f2d1db" args="(EspRequest *ep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar* espGetResult           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Get the current ESP result. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call gets the result value of the last ESP expression or function executed. If you call espEvalScript, espEvalFile or espRunFunction, ESP will set the result to be the value of the last expression evaluated. If that is a function, the result will be the return value of the script. If it is a script, it will be the value of last expression evaluated. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to the MprVar describing the result. The caller does not need to free the variable. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a>, <a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a>, <a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a>, <a class="el" href="esp_8h.html#0885552a771266f05bd9edabc2f56121">espRunFunction</a>, <a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a>, <a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a>, <a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="dbd81f0724cbeace8095c97dfcce384f"></a><!-- doxytag: member="esp.h::espGetScriptHandle" ref="dbd81f0724cbeace8095c97dfcce384f" args="(EspRequest *ep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EjsId espGetScriptHandle           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Get the JavaScript instance handle. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call returns JavaScript instance handle that can be used with many EJS API calls. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the JavaScript instance handle. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a>, <a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a>, <a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a>, <a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="7f4d3f3f504098ed7e532f8e90eb958c"></a><!-- doxytag: member="esp.h::espGetStringVar" ref="7f4d3f3f504098ed7e532f8e90eb958c" args="(EspRequest *ep, EspEnvType oType, char *var, char *defaultValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* espGetStringVar           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EspEnvType&nbsp;</td>
          <td class="paramname"> <em>oType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>defaultValue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Get the string value of a standard ESP array. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call returns the value of a string variable from one of the standard ESP variables arrays: application, server[], session[], request[], headers[], cookies[], files[], form[], application[], global[], and local[]. This call indexes into one of these object arrays to retrieve a specific variable setting and return a pointer to its string value.</dd></dl>
if the variable is not defined, the supplied <em>defaultValue</em> is returned. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oType</em>&nbsp;</td><td>Object index. Must be one of: ESP_SERVER_OBJ, ESP_SESSION_OBJ, ESP_REQUEST_OBJ, ESP_HEADERS_OBJ, ESP_COOKIES, ESP_FILES, ESP_FORM_OBJ, ESP_APPLICATION_OBJ, ESP_GLOBAL_OBJ, ESP_LOCAL_OBJ </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>var</em>&nbsp;</td><td>Name of the variable to access. For example:</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">        espGetStringVar(ep, ESP_HEADERS_OBJ, <span class="stringliteral">"Content-Type"</span>, &amp;value);
</pre></div><p>
will retrieve the Content-Type HTTP header from the headers[] object. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>defaultValue</em>&nbsp;</td><td>Default value to return if the variable is not found. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#713d1a4e8e741b1843e7d425b2df36be">espSetProperty</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a>, <a class="el" href="esp_8h.html#da0286a86673f64aec45c36a21a1418a">espSetStringVar</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="bb2923c56f0db5b5f934a98add6f7896"></a><!-- doxytag: member="esp.h::espGetVar" ref="bb2923c56f0db5b5f934a98add6f7896" args="(EspRequest *ep, EspEnvType oType, char *var, MprVar *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espGetVar           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EspEnvType&nbsp;</td>
          <td class="paramname"> <em>oType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Get the value of a standard ESP variable. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>ESP defines standard object variables that describe the request details. These include: application, server[], session[], request[], headers[], cookies[], files[], form[], application[], global[], and </dd></dl>

</div>
</div><p>
<a class="anchor" name="72bd414342f3139a24ea87cd4dd283b8"></a><!-- doxytag: member="esp.h::espReadVar" ref="72bd414342f3139a24ea87cd4dd283b8" args="(EspRequest *ep, char *var, MprVar *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espReadVar           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Read a variables value </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This function reads a variable without copying the data. Variables contain primitive types such as integers or floating point numbers. They may also contain strings or references to objects. This call returns a structure copy of the data. If the variable contains a string or object, then the string/object pointer will be copied and the return value will have a reference into the ESP object store.</dd></dl>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>Take care when using this function, especially when multithreaded as it returns pointers into the ESP object store. If possible, use the espGetVar function if possible. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>var</em>&nbsp;</td><td>Name of the variable to copy. Variable names may be fully qualified object.property refererence. I.e. they may contain "." or "[]". However, array indexes inside "[]" must be constant. If you require variable access with expresssion array indexes, use espEvalScript and define your script to just be the array reference. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Pointer to a MprValue to contain the variable data. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns zero if successful, otherwise a negative MPR error code is returned. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#50c1dd7bca6ec7c7d7b6d56295e795f1">espCopyVar</a>, <a class="el" href="esp_8h.html#2320454f0b6bc6e6dd2fbc73e09042b3">espCreateObjVar</a>, <a class="el" href="esp_8h.html#a8c5bdbc2632307739c019b0e4b48fac">espCreateProperty</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="aafaa958b92b38c0fcd4562f0e1b1e71"></a><!-- doxytag: member="esp.h::espRedirect" ref="aafaa958b92b38c0fcd4562f0e1b1e71" args="(EspRequest *ep, int code, char *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espRedirect           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>url</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oType</em>&nbsp;</td><td>Object index. Must be one of: ESP_SERVER_OBJ, ESP_SESSION_OBJ, ESP_REQUEST_OBJ, ESP_HEADERS_OBJ, ESP_COOKIES, ESP_FILES, ESP_FORM_OBJ, ESP_APPLICATION_OBJ, ESP_GLOBAL_OBJ, ESP_LOCAL_OBJ </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>var</em>&nbsp;</td><td>Name of the variable to access. For example:</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">            espGetVar(ep, ESP_HEADERS_OBJ, <span class="stringliteral">"Content-Type"</span>, &amp;value);
</pre></div><p>
will retrieve the Content-Type HTTP header from the headers[] object. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Pointer to a <a class="el" href="classMpr.html" title="The Embedthis Portable Runtime (MPR).">Mpr</a> variable to hold the result. Callers do not need to free the result value. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#7f4d3f3f504098ed7e532f8e90eb958c">espGetStringVar</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#72bd414342f3139a24ea87cd4dd283b8">espReadVar</a>, <a class="el" href="esp_8h.html#713d1a4e8e741b1843e7d425b2df36be">espSetProperty</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a>, <a class="el" href="esp_8h.html#da0286a86673f64aec45c36a21a1418a">espSetStringVar</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a>, <a class="el" href="esp_8h.html#4bde7e04b18d65fccf761b88a161bbf9">espWriteVar</a> </dd></dl>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Redirect the client browser to a new location. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call redirects the client's browser to a new URL. It responds to the current HTTP request from the client with a HTTP redirection response. The redirection may be to another page within the current web, or it may be to a different server. This call will set the "Location" HTTP header and the HTTP response code. As ESP bufferes output data, you may issue this call after calling espWrite. In this case, any written data will be discarded. If you wish to discontinue processing the remainder of the ESP script, you should call espSetExitStatus. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>HTTP response code. Set to zero to use the default code of 302 which is the HTTP response code for a temporary redirection. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>url</em>&nbsp;</td><td>URL to redirect to. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a>, <a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a>, <a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a>, <a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="0885552a771266f05bd9edabc2f56121"></a><!-- doxytag: member="esp.h::espRunFunction" ref="0885552a771266f05bd9edabc2f56121" args="(EspRequest *ep, MprVar *obj, char *functionName, MprArray *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espRunFunction           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>functionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMprArray.html">MprArray</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Run a function. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call runs the named function that has been previously defined using espDefineFunction, espDefineCFunction or espDefineStringCFunction. NOTE: the target function may thus be a pure JavaScript function or it may be a C function bound to a JavaScript function name. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>If the function is to be run as an object method, then obj should be set to the relevant object. Otherwise, set obj to NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>functionName</em>&nbsp;</td><td>JavaScript function name to associate with this C function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>Array of arguments to pass to the function. This array must be created using mprCreateArray. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#d2bf8a327f9c4ad2e5ba99a7867bb0d6">espDefineFunction</a>, <a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#29161e7c51f7aa370ef4f47414046a34">espDefineStringCFunction</a>, <a class="el" href="esp_8h.html#7530cf43b3e96dd1e8b6801cc8656a31">espEvalFile</a>, <a class="el" href="esp_8h.html#a34b1c999ea234f6d36720fef2d11fc7">espEvalScript</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="849d949a3e9f4e0c171df752ef6341f6"></a><!-- doxytag: member="esp.h::espSetHeader" ref="849d949a3e9f4e0c171df752ef6341f6" args="(EspRequest *ep, char *header, bool allowMultiple)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espSetHeader           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>allowMultiple</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Set a HTTP response header </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call defines a HTTP response header. The <em>value</em> argument should contain a string of the format "keyword: value". If a header has already been defined and <em>allowMultiple</em> is false, the header will be overwritten. If <em>allowMultiple</em> is true, the new header will be appended to the response headers and the existing header will also be output. NOTE: case does not matter in the header keyword. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>header</em>&nbsp;</td><td>Header string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>allowMultiple</em>&nbsp;</td><td>If false, overwrite existing headers with the same keyword. If true, all headers are output. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a>, <a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a>, <a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a>, <a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a>, <a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="713d1a4e8e741b1843e7d425b2df36be"></a><!-- doxytag: member="esp.h::espSetProperty" ref="713d1a4e8e741b1843e7d425b2df36be" args="(MprVar *obj, char *property, MprVar *newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar* espSetProperty           </td>
          <td>(</td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Update a property in the nominated object. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call updates a property's value. If it does not exist, the property is first created. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object in which to update the property. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>property</em>&nbsp;</td><td>Name of the variable. This name is not used for access and is primarily used for debugging. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newValue</em>&nbsp;</td><td>Pointer to a MprVar with which to initialize the property. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the created property. If a memory allocation failure occurs, the returned object will have a type set to MPR_TYPE_UNDEFINED. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#a8c5bdbc2632307739c019b0e4b48fac">espCreateProperty</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#72bd414342f3139a24ea87cd4dd283b8">espReadVar</a>, <a class="el" href="esp_8h.html#4bde7e04b18d65fccf761b88a161bbf9">espWriteVar</a>, <a class="el" href="var_8h.html#8a2dd4c34216d5983a661459852f1782">mprCopyVar</a>, <a class="el" href="var_8h.html#afb76a44ad750094631f144be70d8f4b">mprCreateIntegerVar</a>, <a class="el" href="var_8h.html#43c54e7d9305eb212bf067644b7f0571">mprCreateStringVar</a>, <a class="el" href="var_8h.html#f4db78c28f04a1dc89f6997ea3a852ab">mprDestroyVar</a>, </dd></dl>

</div>
</div><p>
<a class="anchor" name="52f4f086c3de5696b83965647859e67e"></a><!-- doxytag: member="esp.h::espSetPropertyValue" ref="52f4f086c3de5696b83965647859e67e" args="(MprVar *obj, char *property, MprVar newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprVar* espSetPropertyValue           </td>
          <td>(</td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Update a property in the nominated object. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call updates a property's value. If it does not exist, the property is first created. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object in which to update the property. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>property</em>&nbsp;</td><td>Name of the variable. This name is not used for access and is primarily used for debugging. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newValue</em>&nbsp;</td><td>MprVar value with which to initialize the property. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the created property. If a memory allocation failure occurs, the returned object will have a type set to MPR_TYPE_UNDEFINED. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#a8c5bdbc2632307739c019b0e4b48fac">espCreateProperty</a>, <a class="el" href="esp_8h.html#1b502caa6a66ebdf4c16c8ff16011067">espGetProperty</a>, <a class="el" href="esp_8h.html#72bd414342f3139a24ea87cd4dd283b8">espReadVar</a>, <a class="el" href="esp_8h.html#713d1a4e8e741b1843e7d425b2df36be">espSetProperty</a>, <a class="el" href="esp_8h.html#4bde7e04b18d65fccf761b88a161bbf9">espWriteVar</a>, <a class="el" href="var_8h.html#8a2dd4c34216d5983a661459852f1782">mprCopyVar</a>, <a class="el" href="var_8h.html#afb76a44ad750094631f144be70d8f4b">mprCreateIntegerVar</a>, <a class="el" href="var_8h.html#43c54e7d9305eb212bf067644b7f0571">mprCreateStringVar</a>, <a class="el" href="var_8h.html#f4db78c28f04a1dc89f6997ea3a852ab">mprDestroyVar</a>, </dd></dl>

</div>
</div><p>
<a class="anchor" name="9c5f113909ee7bf77c6c2d1532b15f54"></a><!-- doxytag: member="esp.h::espSetResponseCode" ref="9c5f113909ee7bf77c6c2d1532b15f54" args="(EspRequest *ep, int code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espSetResponseCode           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Set the HTTP response code </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call defines the HTTP status code output with the request response. This call should not normally be needed as espError will set the response code if an error occurs. If no error has occurred the web server will set the response code automatically to 200 which is a successful status code, See RFC 2616 for a complete list of HTTP status codes at <a href="http://www.w3.org/Protocols/rfc2616/rfc2616.html">http://www.w3.org/Protocols/rfc2616/rfc2616.html</a> </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>HTTP status code </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a>, <a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a>, <a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a>, <a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="f5b9d6606054b893491533e11b663029"></a><!-- doxytag: member="esp.h::espSetReturn" ref="f5b9d6606054b893491533e11b663029" args="(EspRequest *ep, MprVar value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espSetReturn           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Set the ESP function return value. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call sets the return result value of an ESP function that has been bound to a JavaScript function via espDefineCMethod. The return value can be a primitive type such as an integer or string or it may be a complete object. See the MprVar and the variable constructors such as mprCreateStringVar and mprCreateIntegerVar for defining result values. If you have string return values, use the convenience routine espSetReturnString. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Return value. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a>, <a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a>, <a class="el" href="esp_8h.html#0885552a771266f05bd9edabc2f56121">espRunFunction</a>, <a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a>, <a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="142ad2ecdc301828f045a668365923cf"></a><!-- doxytag: member="esp.h::espSetReturnString" ref="142ad2ecdc301828f045a668365923cf" args="(EspRequest *ep, char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espSetReturnString           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Set the ESP function return value to a string value. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call sets the return result value of an ESP function that has been bound to a JavaScript function via espDefineCMethod. This call converts the supplied string to an ESP variable. If you need to return types other than a string, use espSetReturn. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>Return string value. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a>, <a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a>, <a class="el" href="esp_8h.html#0885552a771266f05bd9edabc2f56121">espRunFunction</a>, <a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a>, <a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a>, <a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="da0286a86673f64aec45c36a21a1418a"></a><!-- doxytag: member="esp.h::espSetStringVar" ref="da0286a86673f64aec45c36a21a1418a" args="(EspRequest *ep, EspEnvType oType, char *var, char *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espSetStringVar           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EspEnvType&nbsp;</td>
          <td class="paramname"> <em>oType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Set a string variable value in a standard ESP array. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call creates or updates the value of a string variable in one of the standard ESP variables arrays: application, server[], session[], request[], headers[], cookies[], files[], form[], application[], global[], and local[]. This call indexes into one of these object arrays to set a specific variable setting. If the variable does not already exist, it is created. Otherwise its value is updated. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oType</em>&nbsp;</td><td>Object index. Must be one of: ESP_SERVER_OBJ, ESP_SESSION_OBJ, ESP_REQUEST_OBJ, ESP_HEADERS_OBJ, ESP_COOKIES, ESP_FILES, ESP_FORM_OBJ, ESP_APPLICATION_OBJ, ESP_GLOBAL_OBJ, ESP_LOCAL_OBJ </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>var</em>&nbsp;</td><td>Name of the variable to set. For example:</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">    espSetStringVar(ep, ESP_SESSION_OBJ, <span class="stringliteral">"name"</span>, <span class="stringliteral">"Peter Hale"</span>);
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>String value to use in setting the variable. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#7f4d3f3f504098ed7e532f8e90eb958c">espGetStringVar</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#72bd414342f3139a24ea87cd4dd283b8">espReadVar</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a>, <a class="el" href="esp_8h.html#4bde7e04b18d65fccf761b88a161bbf9">espWriteVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="10421aa6573d7c175ad114cd52fa08d8"></a><!-- doxytag: member="esp.h::espSetVar" ref="10421aa6573d7c175ad114cd52fa08d8" args="(EspRequest *ep, EspEnvType oType, char *var, MprVar value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void espSetVar           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EspEnvType&nbsp;</td>
          <td class="paramname"> <em>oType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Set a variable value in a standard ESP array. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call creates or updates the value of a variable in one of the standard ESP variables arrays: application, server[], session[], request[], headers[], cookies[], files[], form[], application[], global[], and local[]. This call indexes into one of these object arrays to set a specific variable setting. If the variable does not already exist, it is created. Otherwise its value is updated. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oType</em>&nbsp;</td><td>Object index. Must be one of: ESP_SERVER_OBJ, ESP_SESSION_OBJ, ESP_REQUEST_OBJ, ESP_HEADERS_OBJ, ESP_COOKIES, ESP_FILES, ESP_FORM_OBJ, ESP_APPLICATION_OBJ, ESP_GLOBAL_OBJ, ESP_LOCAL_OBJ </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>var</em>&nbsp;</td><td>Name of the variable to set. For example:</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">            espSetVar(ep, ESP_SESSION_OBJ, <span class="stringliteral">"name"</span>, 
                mprCreateStringVar(<span class="stringliteral">"Peter Hale"</span>, 0));
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Instance of a MprVar type describing the value to set. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#7f4d3f3f504098ed7e532f8e90eb958c">espGetStringVar</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#72bd414342f3139a24ea87cd4dd283b8">espReadVar</a>, <a class="el" href="esp_8h.html#da0286a86673f64aec45c36a21a1418a">espSetStringVar</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a>, <a class="el" href="esp_8h.html#4bde7e04b18d65fccf761b88a161bbf9">espWriteVar</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="308cc5e2ec23140c9ee462cebf7447b7"></a><!-- doxytag: member="esp.h::espUnsetVar" ref="308cc5e2ec23140c9ee462cebf7447b7" args="(EspRequest *ep, EspEnvType oType, char *var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espUnsetVar           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EspEnvType&nbsp;</td>
          <td class="paramname"> <em>oType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Unset a string variable value in a standard ESP array. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call removes a string variable in one of the standard ESP variables arrays: application, server[], session[], request[], headers[], cookies[], files[], form[], application[], global[], and local[]. This call indexes into one of these object arrays to remove the specified variable setting. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oType</em>&nbsp;</td><td>Object index. Must be one of: ESP_SERVER_OBJ, ESP_SESSION_OBJ, ESP_REQUEST_OBJ, ESP_HEADERS_OBJ, ESP_COOKIES, ESP_FILES, ESP_FORM_OBJ, ESP_APPLICATION_OBJ, ESP_GLOBAL_OBJ, ESP_LOCAL_OBJ </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>var</em>&nbsp;</td><td>Name of the variable to set. For delete:</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">    espSetStringVar(ep, ESP_SESSION_OBJ, <span class="stringliteral">"priority"</span>);
</pre></div> <dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns zero for success, otherwise a negative MPR error code. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#7f4d3f3f504098ed7e532f8e90eb958c">espGetStringVar</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="ef96bd943043db3540c315b15a9c5054"></a><!-- doxytag: member="esp.h::espWrite" ref="ef96bd943043db3540c315b15a9c5054" args="(EspRequest *ep, char *buf, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espWrite           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Write response data back to the client's browser. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call writes the block of data in <em>buf</em> back to the client's browser. The data is buffered up to a configurable limit. If the maximum ESP buffer limit is exceeded, the data will be written to the client as required after first writing all previously buffered data included any HTTP headers. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Pointer to a buffer containing the data to be written. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Length of the data buffer. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a>, <a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a>, <a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a>, <a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a>, <a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a>, <a class="el" href="esp_8h.html#f0c11354ea938c922865aff6dee2cfe7">espWriteFmt</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="f0c11354ea938c922865aff6dee2cfe7"></a><!-- doxytag: member="esp.h::espWriteFmt" ref="f0c11354ea938c922865aff6dee2cfe7" args="(EspRequest *ep, char *fmt,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espWriteFmt           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Write formatted response data back to the client's browser. </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This call formats a string and then writes it to the client's browser. The data is buffered up to a configurable limit. If the maximum ESP buffer limit is exceeded, the data will be written to the client as required after first writing all previously buffered data included any HTTP headers. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fmt</em>&nbsp;</td><td>Printf style format string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>Format string arguments </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#3455e1295fd492be4f075388c2fbfaee">espDefineCFunction</a>, <a class="el" href="esp_8h.html#6030e31bf04ebc594e274ae80317df51">espError</a>, <a class="el" href="esp_8h.html#6a736f866defb59730d0eb439d756934">espGetRequestHandle</a>, <a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#dbd81f0724cbeace8095c97dfcce384f">espGetScriptHandle</a>, <a class="el" href="esp_8h.html#aafaa958b92b38c0fcd4562f0e1b1e71">espRedirect</a>, <a class="el" href="esp_8h.html#849d949a3e9f4e0c171df752ef6341f6">espSetHeader</a>, <a class="el" href="esp_8h.html#9c5f113909ee7bf77c6c2d1532b15f54">espSetResponseCode</a>, <a class="el" href="esp_8h.html#f5b9d6606054b893491533e11b663029">espSetReturn</a>, <a class="el" href="esp_8h.html#ef96bd943043db3540c315b15a9c5054">espWrite</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="4bde7e04b18d65fccf761b88a161bbf9"></a><!-- doxytag: member="esp.h::espWriteVar" ref="4bde7e04b18d65fccf761b88a161bbf9" args="(EspRequest *ep, char *var, MprVar *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espWriteVar           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Write a variables value </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This function updates a variable's value in the ESP object store. Variables contain primitive types such as integers or floating point numbers. They may also contain strings or references to objects. This call will do a "shallow" copy of the supplied variable. It will copy strings and primitive types. However, it will not copy objects. Rather, it will increment the supplied object's reference counter.</dd></dl>
If the variable does not already exist, this function will return an error. If you need to create a property, use espCreateProperty. If possible, use the espSetVar function which will create or update a variable as required. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>var</em>&nbsp;</td><td>Name of the variable to copy. Variable names may be fully qualified object.property refererence. I.e. they may contain "." or "[]". However, array indexes inside "[]" must be constant. If you require variable access with expresssion array indexes, use espEvalScript and define your script to just be the array reference. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Pointer to a MprValue containing the data to write. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns zero if successful, otherwise a negative MPR error code is returned. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#50c1dd7bca6ec7c7d7b6d56295e795f1">espCopyVar</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a>, <a class="el" href="esp_8h.html#012beaa30e86880cf995fcefa44a2992">espWriteVarValue</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="012beaa30e86880cf995fcefa44a2992"></a><!-- doxytag: member="esp.h::espWriteVarValue" ref="012beaa30e86880cf995fcefa44a2992" args="(EspRequest *ep, char *var, MprVar value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int espWriteVarValue           </td>
          <td>(</td>
          <td class="paramtype">EspRequest *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprVar&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b><b>Synopsis</b>:</b></dt><dd>Write a variables value </dd></dl>
<dl class="user" compact><dt><b><b>Overview</b>:</b></dt><dd>This function is similar to espWriteVar but is passed its value to be written by "value". It is useful when writing variables created by using the MprVar constructors. For example:</dd></dl>
<div class="fragment"><pre class="fragment">    espWriteVarValue(ep, <span class="stringliteral">"application.hitRate"</span>, mprCreateIntegerVar(i + 1));
</pre></div><p>
Variables contain primitive types such as integers or floating point numbers. They may also contain strings or references to objects. This call will do a "shallow" copy of the supplied variable. It will copy strings and primitive types. However, it will not copy objects. Rather, it will increment the supplied object's reference counter.<p>
If the variable does not already exist, this function will return an error. If you need to create a property, use espCreateProperty. If possible, use the espSetVar function which will create or update a variable as required. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ep</em>&nbsp;</td><td>ESP request handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>var</em>&nbsp;</td><td>Name of the variable to copy. Variable names may be fully qualified object.property refererence. I.e. they may contain "." or "[]". However, array indexes inside "[]" must be constant. If you require variable access with expresssion array indexes, use espEvalScript and define your script to just be the array reference. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>MprValue containing the data to write. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns zero if successful, otherwise a negative MPR error code is returned. </dd></dl>
<dl class="user" compact><dt><b><b>Library</b>:</b></dt><dd>libesp, libappweb </dd></dl>
<dl class="user" compact><dt><b><b>Configure</b> options:</b></dt><dd>Requires BLD_FEATURE_ESP_MODULE. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="esp_8h.html#ca976960942ae64291957abb07f2d1db">espGetResult</a>, <a class="el" href="esp_8h.html#bb2923c56f0db5b5f934a98add6f7896">espGetVar</a>, <a class="el" href="esp_8h.html#50c1dd7bca6ec7c7d7b6d56295e795f1">espCopyVar</a>, <a class="el" href="esp_8h.html#10421aa6573d7c175ad114cd52fa08d8">espSetVar</a>, <a class="el" href="esp_8h.html#4bde7e04b18d65fccf761b88a161bbf9">espWriteVar</a> </dd></dl>

</div>
</div><p>
</div>
	  </td>
      <td class="contentSep"></td>

      <td class="contentSideBar">
        <div class="linkSection">
          <h2>See Also</h2>

<!-- BeginDsi "dsi/api.html" -->
					<a href="../../../api/gen/appweb/overview.html">API Overview</a><br>
					<a href="../../../api/gen/appweb/c-api.html">C API</a><br>
					<a href="../../../api/gen/appweb/cplusplus-api.html">C++ API</a><br>
					<a href="../../../api/gen/appweb/javascript-api.html">JavaScript API</a><br>
					<a href="../../../api/gen/appweb/annotated.html">Class List</a><br>
					<a href="../../../api/gen/appweb/files.html">File List</a><br>
<!-- EndDsi -->

        </div>
      </td>
    </tr>
</table>

<!-- BeginDsi "dsi/terms.html" -->
<p class="terms"> 
	<a href="../../../product/copyright.html"
		>&copy; Embedthis Software LLC, 2003-2009. All 
		rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
</p>
<!-- EndDsi -->

</body>
</html>
